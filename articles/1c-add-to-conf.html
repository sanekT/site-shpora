<div class="wrap">
   
    <h2 class="header-style">Способы доработки типовых конфигураций</h2>

    <p>Способов доработки типовых конфигураций есть несколько:</p>
    <ul class="list">
        <li><a href="#var-1">Через подсистему БСП - "Дополнительные отчеты и обработки"</a>
            <ul class="list2">
                <li><b>На словах:</b></li>
                <li><a href="#var-1.1">Последовательность создания внешней обработки или отчёта для последующего добавления в типовую. Правила добавления.</a></li>
                <li><a href="#var-1.2">Виды обработок</a></li>
                <li><a href="#var-1.3">Далее</a></li>
                <li><a href="#var-1.4">Рассмотрим более подробно ключи структуры "ПараметрыРегистрации"</a>
                    <ul class="list2">
                        <li><a href="#var-1.4.1">Вид</a></li>
                        <li><a href="#var-1.4.2">Команды</a></li>
                        <li><a href="#var-1.4.3">Назначение</a></li>
                    </ul>
                </li>
                <li><a href="#var-1.5">На что влияет тип команды и вид обработки</a></li>
                <li><a href="#var-1.6">Заготовки дополнительных отчётов и обработок. Описал немного временные метки из видео, что рассказывал Иван.</a></li>
                <li><b>На деле:</b></li>
                <li><a href="#var-1.7">Создаём обработку для выгрузки данных справочника "Контрагенты" в файл JSON</a></li>
                <li><a href="#var-1.8">Создаём отчёт, отображающий контактные данные контрагентов в виде пересечённой таблицы</a></li>
                <li><a href="#var-1.9">В справочник "Контрагенты" добавить кнопку для заполнения реквизитов по ИНН</a></li>
                <li><a href="#var-1.10">В документе "Заказ поставщика" сделать расчёт скидок в табличной части по следующему алгоритму: если кол-во товара больше 50, скидка 10%</a></li>
                <li><a href="#var-1.11">Добавить печатную форму "Гарантийное письмо" для документа "Заказ покупателя"</a></li>
                <li><a href="#var-1.12">Добавить печатную форму "Гарантийное письмо" для документа "заказ покупателя" с выводом в формат Open Office XML(MS Word)</a></li>
                <li><a href="#var-1.13">Воплотить возможность создавать на основании документа "Заказ покупателя" документы "Счет на оплату" с разделением на товары и услуги. Если в заказе покупателя одновременно и товары и услуги, то нужно создавать 2 счёта: один на товар и один на услуги</a></li>
                <li><a href="#var-1.14">Как создать регламентное задание с помощью дополнительной обработки</a></li>
                <li><a href=""></a></li>
            </ul>
        </li>
        <li><a href="#var-2">Через расширения</a></li>
    </ul>



    <h3 class="header-style2" id="var-1">Через подсистему БСП - "Дополнительные отчеты и обработки"</h3>
    <p>Записываю по видео от айронскилс - "Доработка типовых конфигураций 1С. Дополнительные отчеты и обработки".</p>
    <p>В каждой типовой конфе есть стандартные подсистемы из БСП. Я смотрю на примере типовый УТ(11.4) и УНФ(3.0). Если посмотреть в подсистемы этих конф, то мы увидим такую подсистему как "Стандартные подсистемы", она содержит подсистемы добавленные из БСП.</p>
    <p>В этих стандартных подсистемах можно найти такую подсистему как "ДополнительныеОтчетыИОбработки". Поставим фильтр для этой подсистемы, чтобы мы в дереве конфигурации видели только те объекты, которые связаны с ней:</p>
    <img src="../img/1С-Расширения типовых/2024-11-02_19-58-20.png" class="screen-2" alt="">
    <p>С помощью этой подсистемы в типовую конфу можно добавлять внешние отчёты, внешние обработки(но не все), которые затем система встраивает в определённые участки конфигурации и как следствие пользователь может вызывать эти отчёты и обработки в типовой конфигурации. Изменения в типовой мы никаких не делаем, мы просто добавляем к функционалу типовой наш функционал.</p>
    <p>В каждой типовой есть подсистема "Администрирование" или "НСИ и Администрирование" или что то подобное. В подчинённых подсистемах в этой подсистемы есть команда "Печатные формы, отчеты и обработки", по команде откроем эту обработку и увидим панель настроек этих объектов. В панели увидим такую константу как "Дополнительые отчеты и обработки", которая через функциональную опцию включает отображение справочника "Дополнительные отчеты и обработки". Этот справочник из стандартной подсистемы БСП - "ДополнительныеОтчетыИОбработки":</p>
    <img src="../img/1С-Расширения типовых/2024-11-02_21-26-52.png" class="screen" alt="">
    <p>Этот справочник предназначен для того, чтобы в него можно было добавлять файлы внешних отчётов и обработок. Файлы с расширением .erf и .epf, но не любой файл внешнего отчёта или обработки сюда может быть добавлен, потому что должен соответствовать определённым правилам. Эти правила мы ниже разберём.</p>
    <p>Как добавить такие файлы в справочник? Мы создаём в конфигураторе внешний отчёт или обработку, разрабатываем там какой то алгоритм(например, печатную форму или заполнение документа). Сохраняем и после этого этот файл мы в пользовательском режиме добавляем в справочник "Дополнительные отчеты и обработки" и затем в нужной форме нужного документа появляется команда, которая вызывает действие прописанное нами ранее в этом внешнем объекте:</p>
    <img src="../img/1С-Расширения типовых/2024-11-02_21-56-27.png" class="screen" alt="">
    <p>Этот механизм доработки типовых конфигураций ограничен. Не получится добавить все обработки и отчёты в типовую, есть ограничения. Какие обработки можно добавлять. Например, обработку для загрузки данных из файла или обработку для выгрузки данных какого-то справочника в файл. Что ещё можно добавлять можно посмотреть на 7 минуте.</p>
    <p>Что нельзя добавлять. Нельзя добавлять новые объекты конфигурации(справочники, документы). Нельзя изменять форму объекта. И нельзя изменять код в модулях конфигурации.</p>
    <p>В общем есть такое неглаcное правило, что все печатные формы в типовой созданы через добавление внешних обработок через этот механизм.</p>



    <p><b id="var-1.1">Последовательность создания внешней обработки или отчёта для последующего добавления в типовую. Правила добавления.</b></p>
    <p>Последовательность состоит из 3х шагов.</p>
    <p>1. Итак, если мы создадим внешнюю обработку, напишем в ней функционал и попытаемся добавить в типовую, то ничего не получится, потому что мы не описали некоторые вещи. А именно система скажет, что не обнаружила метод СведенияОВнешнейОбработке.</p>
    <p>2. Значит нам нужно в модуле объекта созданной внешней обработки описать эту экспортную функцию. Функция должна возвращать структуру "ПараметрыРегистрации" с определённым набором ключей и значениями для этих ключей. Есть функция-заготовка в общем модуле "ДополнительныеОтчетыИОбработки" подсистемы "ДополнительныеОтчетыИОбработки", которая возвращает структуру уже заполненную нужными ключами. Нам остаётся в модуле объекта вызвать эту функцию, заполнить ключами нашу структуру и заполнить ключи в структуре нужными значениями. Вот как выглядит функция заготовка:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_08-59-02.png" class="screen" alt="">
    <p>Создадим в нашей внешней обработке в модуле объекта функцию СведенияОВнешнейОбработке и в ней вызовем функцию заготовку, чтобы заполнить нашу структуру ключами:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-02-53.png" class="screen" alt="">
    <p>Мы можем и сами описать такую структуру с ключами, но разработчики побеспокоились о нас и предоставили заготовку, чтобы быстро наполнить структуру ключами.</p>
    <p>3. После того как мы описали функцию СведенияОВнешнейОбработке далее нужно описать функционал, что будет делать наша обработка. Например, процедуру для формирования печатной формы или процедуру для заполнения документа.</p>



    <p><b id="var-1.2">Виды обработок</b></p>
    <p>Виды обработок бывают разные:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-16-50.png" class="screen" alt="">
    <p>Виды обработок это "Дополнительная обработка", "Дополнительный отчет", "Отчет", "Печатная форма" и т.д., а не "Глобальная" и "Назначаемая". "Глобальная" и "Назначаемая" это просто классификация видов обработок.</p>
    <p>Глобальные.</p>
    <p>Чем отличаются глобальные от назначаемых? Глобальные не привязаны к какому то отдельному документу, они просто лежат в определённом месте системы как отдельная дополнительная функциональность. В УТ 11.4 эти дополнительные обработки находятся в месте, которое вызывается командой "Дополнительные обработки" в каждом разделе:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-31-08.png" class="screen" alt="">
    <p>А дополнительные отчёты будут лежать в отчётах в каждом разделе. Отчёты вызываются командами "Отчеты ..." в каждом разделе:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-40-15.png" class="screen" alt="">
    <p>А для УНФ 3.0 дополнительные отчёты и обработки лежат в в указанных на картинке местах:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-43-55.png" class="screen" alt="">
    <p>Назначаемые.</p>
    <p>У этих обработок больше видов и в отличии от глобальных они уже встраиваются в конкретные места справочников, документов и т.д.:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-52-25.png" class="screen" alt="">
    <p>На картинке обработка вида "Печатная форма".</p>
    <p>А вот обработка вида "Создание связанных объектов". Они попадают в подменю "Создать на основании":</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-55-05.png" class="screen" alt="">
    <p>Следующий вид это "Заполнение объекта". Команды связанные с такими обработками будут находится в формах документа и будут собираться в подменю "Заполнение":</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_09-58-06.png" class="screen" alt="">
    <p>Ещё одна назначаемая обработка имеет вид "Отчет":</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_10-00-46.png" class="screen" alt="">
    <p>Ещё один назначаемый отчет или обработка имеет вид "Шаблон сообщения". Как говорят это вообще редкая вещь и в жизни его встретить можно редко.</p>

    <p><b id="var-1.3">Далее</b></p>
    <p>Каким образом платформа понимает какой вид обработки и к какому объекту отнести её? А понимает она это как раз на основании функции СведенияОВнешнейОбработке. Вот на этой картинке, которую мы видели выше, в функции заготовке есть ключи, по которым платформа получает для себя данные, что и куда разместить:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_08-59-02.png" class="screen" alt="">
    <p>Одним из важных ключей является "Команды", в который помещается таблица значений из команд, куда нужно поместить назначаемую обработку или отчет.</p>

    <p><b id="var-1.4">Рассмотрим более подробно ключи структуры "ПараметрыРегистрации"</b>.</p>
    <p><i id="var-1.4.1">Ключ "Вид"</i></p>
    <p>Вид обработки указывается в виде строки и имеет след. значения:</p>
    <ul class="list">
        <li>ДополнительнаяОбработка</li>
        <li>ДополнительныйОтчет</li>
        <li>ЗаполнениеОбъекта</li>
        <li>Отчет</li>
        <li>ПечатнаяФорма</li>
        <li>СозданиеСвязанныхОбъектов</li>
    </ul>
    <p>Начнём рассматривать пример. Создадим внешнюю обработку, назовём её "ДопОбработка" и в модуле объекта этой обработки опишем экспортную функцию СведенияОВнешнейОбработке. Чтобы самому не заполнять структуру ключами, мы вызовем из общего модуля стандартной подсистемы "ДополнительныеОтчетыИОбработки" одноимённую функцию заготовку СведенияОВнешнейОбработке:</p>
    <div class="code-style">
        <pre>
            --модуль объекта нашей внешней обработки

            Функция СведенияОВнешнейОбработке() Экспорт
                ПараметрыРегистрации = ДополнительныеОтчётыИОбработки.СведенияОВнешнейОбработке();
                
                Возврат ПараметрыРегистрации;
            КонецФункции
        </pre>
    </div>
    <p>Если посмотреть на функцию заготовку, то увидим что в неё можно передать один параметр - "ВерсияБСП". Этим параметром указывается наименьшая версия БСП, для которой подойдёт наша обработка. Позже опишем что тут указывать, пока оставим пустой.</p>
    <p>Итак, нам нужно заполнить вид обработки, можно написать просто строкой</p>
    <div class="code-style">
        <pre>
            --модуль объекта нашей внешней обработки

            Функция СведенияОВнешнейОбработке() Экспорт
                ПараметрыРегистрации = ДополнительныеОтчётыИОбработки.СведенияОВнешнейОбработке();
                ПараметрыРегистрации.Вид = "ДополнительнаяОбработка";
                
                Возврат ПараметрыРегистрации;
            КонецФункции
        </pre>
    </div>
    <p>Но лучше использовать другой способ. Есть функции в другом общем модуле "ДополнительныеОтчетыИОбработкиКлиентСервер". Выбираем функцию в названии которой будет наш вид обработки. Например, мы хотим вид обработки "ДополнительнаяОбработка", значит функция будет называться ВидОбработкиДополнительнаяОбработка. Вызываем её. Она вернёт нам ту же строку, что мы и хотели написать.</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_19-17-13.png" class="screen" alt="">
    <div class="code-style">
        <pre>
            ПараметрыРегистрации.Вид = ДополнительныеОтчетыИОбработкиКлиентСервер.ВидОбработкиДополнительнаяОбработка();
        </pre>
    </div>
    <p>Почему же лучше использовать такой способ? Если БСП обновится и вдруг там поменяют название вида обработки, то у нас ничего не сломается, а если будет написанно нами просто строка, то придётся лезть в обработку и самому менять название вида.</p>
    <p>В таком виде нашу внешнюю обработку уже можно подключить к типовой.</p>
    <p><span class="vue-r">Столкнулся с такой ошибкой. Я попытался добавить в учебную УТ 11.4 в справочник "ДополнительныеОтчетыИОбработки", где уже были 4 добавленных учебных обработки. При нажатии кнопки "Загрузить из файла", система самостоятельно открывает первую обработку из справочника, потому что на ней стоял фокус, и при выборе моей обработки из окна диалога вылетает ошибка "Вид загружаемого объекта (Дополнительная обработка) не соответствует текущему (Проверка условия предоставления скидки (наценки)). Для загрузки нового объекта нажмите "Создать"." Дело в том, что я пытаюсь загрузить свою обработку в открытую текущую обработку, которую система сама открыла. Чтобы добавить мою обработку, нужно сначала нажать "Создать", создастся новый объект справочника и в этот пустой объект теперь можно загрузить из файла нашу внешнюю обработку. Если же справочник пуст, то можно сразу загружать из файла, система сама запустит создание нового элемента справочника, куда мы и загрузимся.</span></p>
    <p>Вот так загрузилась наша обработка в справочник:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_19-53-17.png" class="screen" alt="">
    <p>Как видно заполнился только вид обработки ну и само название. А так выглядит добавление в УНФ 3.0:</p>
    <img src="../img/1С-Расширения типовых/2024-11-05_19-58-53.png" class="screen" alt="">
    <p>Но пока мы не увидим отображение нашей обработки нигде, потому что мы не указали её место и нет команд.</p>

    <p><i id="var-1.4.2">Ключ "Команды"</i></p>
    <p>Если посмотреть на функцию заготовку, то увидем, что заранее в ключ "Команды" была загруженна таблица значений с заготовленными колонками. В нашей функции теперь нужно заполнить строки этой таблицы, одна строка одна команда.</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_10-44-40.png" class="screen" alt="">
    <p>Один из ключевых параметров команды это колонка "Использование". Этот параметр определяет, что должна дальше делать платформа для этой обработки. Какая процедура будет вызываться при выполнении этой команды.</p>
    <div class="code-style">
        <pre>
            --модуль объекта нашей внешней обработки

            Функция СведенияОВнешнейОбработке() Экспорт
                ИмяОбработки = ЭтотОбъект.Метаданные().Имя;
                Синоним = ЭтотОбъект.Метаданные().Синоним;
                Синоним = ?(ЗначениеЗаполнено(Синоним), Синоним, ИмяОбработки);

                ПараметрыРегистрации = ДополнительныеОтчетыИОбработки.СведенияОВнешнейОбработке();
                ПараметрыРегистрации.Вид = ДополнительныеОтчетыИОбработкиКлиентСервер.ВидОбработкиДополнительнаяОбработка();

                Команда = ПараметрыРегистрации.Команды.Добавить();
                Команда.Представление = Синоним;
                Команда.Идентификатор = ИмяОбработки;
                Команда.Использование = ДополнительныеОтчетыИОбработкиКлиентСервер.ТипКомандыОткрытиеФормы();
                Команда.ПоказыватьОповещение = Истина;

                Возврат ПараметрыРегистрации;
            КонецФункции
        </pre>
    </div>
    <p>Колонка "Использование" может принимать следующие виды команд:</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_11-13-02.png" class="screen" alt="">
    <p>Тут также можно самому в виде строки описать тип команды, а можно вызвать функцию для этого. Второй способ предпочтительней.</p>
    <p>Тип команды "ОткрытиеФормы" просто открывает форму нашей обработки. Т.е по этой команде, платформа понимает, что при нажатии на нашу обработку, нужно открыть её форму.</p>
    <p>Сохраним нашу обработку в конфигураторе и попробуем снова обновить её в справочнике. В спраовчнике просто открываем нашу обработку до этого загруженную и снова жмём загрузить из файла и система обновит данные для неё. Теперь у нас появилось больше данных о нашей обработке, повились дополнительные страницы. Появилась кнопка "Запустить", появилась возможность разместить нашу обработку:</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_11-25-48.png" class="screen" alt="">
    <p>Это я делаю в УТ 11.4, для УНФ уже не буду описывать, если надо можно в ней повторить.</p>
    <p>Если нажать "не определено" в размещении, откроется формочка со всеми разделами типовой и можно указать в каком разделе будет наша обработка в команде "Дополнительные обработки". Укажем, например, "Продажи" и сохраним. Если зайтив продажи и в обработки, то не увидим нашу обработку, потому что ещё не указан "быстрый доступ". Откроем в справочнике опять нашу обработку и там есть колонка "Быстрый доступ". Откроем значения в жтом поле и увидим пользователей, нужно выбрать пользователей, которым будет доступна наша обработка. Мы администратор, можно выбрать фамилию админа и сохранить. Теперь наша обработка станет доступна.</p>
    <p>По нажатию на кнопку "Выполнить", система поймёт из нашей функции, что нужно открыть форму нашей обработки, жмём, откроется пустая форма. Дальше уже назначение обработки будет зависить от того, что мы там наваяем в форме.</p>
    <p>Но как понятно из типов команд, форму открывать необязательно, можно просто выполнить какую-то процедуру из нашей обработки при нажатии "Выполнить". Для этого будет использоваться тип команды "ВызовКлиенсткогоМетода" или "ВызовСерверногоМетода" и т.д.</p>

    <p><i id="var-1.4.3">Ключ "Назначение"</i></p>
    <p>Этот ключ используется только для назначаемых обработок. Например, если мы создаём печатную форму, то нужно указать для какого документа мы её добавляем. Выше у нас был пример глобальной обработки "ДополнительнаяОбработка", для этого же ключа давайте создадим другую внешнюю обработку с видом обработки - "ПечатнаяФорма".</p>
    <p>Опять описываем функцию СведенияОВнешнейОбработке и добавим теперь ключ "Назначение", в этом ключе уже содержится массив, благодаря функции заготовке. В этот массив нам нужно добавить строки с указанием объекта, куда мы хотим добавить назначаемую обработку:</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_15-06-56.png" class="screen" alt="">
    <div class="code-style">
        <pre>
            Функция СведенияОВнешнейОбработке() Экспорт  
                ИмяОбработки = ЭтотОбъект.Метаданные().Имя;
                Синоним = ЭтотОбъект.Метаданные().Синоним;
                Синоним = ?(ЗначениеЗаполнено(Синоним), Синоним, ИмяОбработки);

                ПараметрыРегистрации = ДополнительныеОтчетыИОбработки.СведенияОВнешнейОбработке();
                ПараметрыРегистрации.Вид = ДополнительныеОтчетыИОбработкиКлиентСервер.ВидОбработкиПечатнаяФорма();
                ПараметрыРегистрации.Назначение.Добавить("Документ.ЗаказПокупателя");
                
                <span class="vue-g">//также нужно описать команду формирования печатной формы</span>
                Команда = ПараметрыРегистрации.Команды.Добавить();
                Команда.Представление = Синоним;
                Команда.Идентификатор = ИмяОбработки;
                Команда.Использование = ДополнительныеОтчетыИОбработкиКлиентСервер.ТипКомандыВызовСерверногоМетода(); 
                <span class="vue-g">//также если мы хотим вывести печатную форму в табличный документ, то нужно добавить 
                //в колонку Модификатор строку "ПечатьMXL". Это описано в параметрах в функции заготовке</span>
                Команда.Модификатор = "ПечатьMXL";
                
                Возврат ПараметрыРегистрации;
            КонецФункции
        </pre>
    </div>
    <p>Вот с таким описанием уже можно добавить нашу внешнюю обработку. Система при выполнении нашей обработки будет вызывать процедуру, которая создадёт и выводит печатную форму. Такой процедуры конечно же пока нет.</p>
    <p>Добавляем в справочник нашу обработку и в месте, где указано размещение, уже будет указан тот документ, куда мы назначили.</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_19-45-46.png" class="screen" alt="">



    <p><b id="var-1.5">На что влияет тип команды и вид обработки</b></p>
    <img src="../img/1С-Расширения типовых/2024-11-06_19-51-47.png" class="screen" alt="">
    <p>Допустим у нас тип команды это "ВызовСерверногоМетода", то от вида обработки будет зависить какую процедуру будет запускать платформа. На картинке показано какую процедуру платформа вызовет при разных видах обработок.</p>
    <p>Далее я просто картинки буду выводить и по ним будет понятно что выплняется при каких условиях.</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_19-57-19.png" class="screen" alt="">
    <img src="../img/1С-Расширения типовых/2024-11-06_20-01-57.png" class="screen" alt="">
    <p>При команде "ОткрытиеФормы" передаются разные параметры от вида обработки. Эти параметры передаёт сама платформа. Допустим мы создали назначаемую обработку с видом "ЗаполнениеОбъекта". Она будет распологаться в подменю "Заполнение объектов" указанного документа. При нажатии на нашу обработку в этом подменю откроется форма нашей обработки и система при открытии сама передаст параметром ссылку на этот текущий документ в массиве. Это и есть параметр "ОбъектыНазначения" на картинке.</p>
    <p>А для всех видом обработок система передаёт стандартный набор параметров: "ИдентификаторКоманды", "ДополнительнаяОбработкаСсылка" и "ИмяФормы". "ДополнительнаяОбработкаСсылка" это ссылка на элемент справочника, где находится наша обработка.</p>
    <p>И ещё один тип команды:</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_20-14-12.png" class="screen" alt="">
    <p>Ещё такое уточнение. Если смотреть на картинки, то только для вида обработки "ПечатнаяФорма" используется процедура с именем "Печать", для всех остальных имя процедуры "ВыполнитьКоманду". Но для каждого вида обработки параметры в эту процедуру будут свои.</p>



    <p><b id="var-1.6">Заготовки дополнительных отчётов и обработок</b></p>
    <p>Каждый раз описывать функцию СведенияОВнешнейОбработке довольно трудозатратная работа. Поэтому люди из айронскилс подготовили такие заготовки для использования. Я скачал архив с этими заготовками на комп и лежит в папке для 1С(в папке "Заготовки ...") и загрузил на яндекс диск.</p>
    <p>В архиве 2 папки: Глобальные и Назначаемые. В них обработки и отчёты часто используемые в жизни.</p>
    <p>Печатные формы самая частая доработка типовой через этот способ доработки. Поэтому в заготовках несколько видов печатных форм. С выводом в табличный документ, с выводом в Ворд и с вводом параметров пользователем и потом вывод в табличный документ.</p>
    <p>Дальше по видео с 49 минуты показывает эти заготовки обработки в пользовательской части, как мы их добавляем в типовую.</p>
    <p>С 59:40 переходим к делу и показывает как в жизни мы бы взяли заготовку и доработали её сами и внедрили в типовую. Вот список задач, которые нужно решить:</p>
    <img src="../img/1С-Расширения типовых/2024-11-06_21-06-03.png" class="screen" alt="">



    <p><b id="var-1.7">Создаём обработку для выгрузки данных справочника "Контрагенты" в файл JSON</b></p>
    <p>Итак, есть условие задачи, нужно подобрать заготовку под её решение. Сначала определимся какой вид обработки будем использовать. Если это назначаемая обработка, то должна находится где то в подменю документа или справочника. Какие у нас есть подменю? "Печать", "Заполнение", "Создать на основании", "Отчеты". Вроде бы по смыслу наша обработка никуда не тулится. Значит она будет глобальная дополнительная обработка.</p>
    <p>Дальше нужно определить тип команды. Больше подходит "ВызовСерверногоМетода", потому что мы будем обращаться в БД за данными таблицы "Контрагенты". Но также подходит и тип "ОткрытиеФормы", где в форме мы разместим кнопку для выгрузки контрагентов. Иван показывает 2 способ с типом "ОткрытиеФормы". На форме у нас будет табличка, куда загрузятся все контрагенты и этих контрагентов выгрузим в JSON.</p>
    <p>Таблица будет с типом "ТаблицаЗначений". Добавим 2 кнопки, Заполнить и Выгрузить. Обработку смотреть в E:\Всё по 1С\1C обработки, отчёты и т.д\ВыгрузкаКонтрагентовВJSONСТипомКомандыЧерезОткрытиеФормы.epf</p>




    <p><b id="var-1.8">Создаём отчёт, отображающий контактные данные контрагентов в виде пересечённой таблицы</b></p>




    <p><b id="var-1.9">В справочник "Контрагенты" добавить кнопку для заполнения реквизитов по ИНН</b></p>




    <p><b id="var-1.10">В документе "Заказ поставщика" сделать расчёт скидок в табличной части по следующему алгоритму: если кол-во товара больше 50, скидка 10%</b></p>



    
    <p><b id="var-1.11">Добавить печатную форму "Гарантийное письмо" для документа "Заказ покупателя"</b></p>




    <p><b id="var-1.12">Добавить печатную форму "Гарантийное письмо" для документа "заказ покупателя" с выводом в формат Open Office XML(MS Word)</b></p>




    <p><b id="var-1.13">Воплотить возможность создавать на основании документа "Заказ покупателя" документы "Счет на оплату" с разделением на товары и услуги. Если в заказе покупателя одновременно и товары и услуги, то нужно создавать 2 счёта: один на товар и один на услуги</b></p>




    <p><b id="var-1.14">Как создать регламентное задание с помощью дополнительной обработки</b></p>

</div>