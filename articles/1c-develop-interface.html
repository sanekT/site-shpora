<div class="wrap">
   
    <h2 class="header-style">Здесь будет описано как разрабатывать интерфейс прикладного решения по книге Радченко и Хрусталёвой "Разработка интерфейса прикладных решений на 1С" с моими заметками.</h2>

    <p><span class="vue-r">Если картики будет плохо видно, то через контекстное меню открыть их в новой вкладке, там она в полный размер будет.</span></p>

    <p>Обозначения: КИ - командный интерфейс</p>
    <p>Обозначения: ПР - прикладное решение</p>

    <p>Книга состоит из пяти частей. Каждая из них посвящена определённой области разработки.</p>
    <p><span class="vue-d-b">В первой части</span> книги рассказывается о принципах, на основе которых платформа формирует командный интерфейс, и о том, как разработчик может влиять на его формирование.</p>
    <p><span class="vue-d-b">Во второй части</span> рассматриваются различные возможности статического создания форм в конфигураторе.</p>
    <p><span class="vue-d-b">В третьей части</span> рассказывается о возможностях использования встроенного языка для решения различных интерфейсных задач</p>
    <p><span class="vue-d-b">В четвёртой части</span> рассматриваются основные принципы и подходы, позволяющие формам работать быстро и производительно.</p>
    <p><span class="vue-d-b">В пятой части</span> рассказывается о том, как присобачить интерфейс прикладного решения для работы в мобильном клиенте. Мобильные устройства имеют маленькие экраны, поэтому платформе нужны доп. подсказки от разработчика, чтобы она могла подстроить внешний вид формы под маленький экран.</p>


    <h3 class="header-style2"></h3>
    <ul class="list">
        <li><a href="#chapter1.1">Глава 1.1 Пользователь, интерфейс, команда</a></li>
        <li><a href="#chapter1.2">Глава 1.2 Прикладное решение глазами пользователя</a>
            <ul class="list2">
                <li><a href="#chapter1.2.1">Основное окно приложения</a></li>
                <li><a href="#chapter1.2.2">Окно клиентского приложения</a></li>
            </ul>
        </li>
        <li><a href="#chapter1.3">Глава 1.3 Командный интерфейс системы</a>
            <ul class="list2">
                <li><a href="#chapter1.3.1">Структура командного интерфейса</a></li>
                <li><a href="#chapter1.3.2">Влияние подсистем</a></li>
                <li><a href="#chapter1.3.3">Формирование состава глобального командного интерфейса. <b>Роли и права</b> для них. Влияние на отображение функциональных опций. Пользовательские настройки для отображения команд.</a></li>
            </ul>
        </li>
        <li><a href="#chapter1.4">Глава 1.4 Настраиваем состав команд</a></li>
        <li><a href="#chapter1.5">Глава 1.5 Настраиваем доступность команд по ролям</a></li>
        <li><a href="#chapter1.6">Глава 1.6 Редактирование командного интерфейса</a></li>
        <li><a href="#chapter1.7">Глава 1.7 Влияние функциональных опций на командный интерфейс</a></li>
        <li><a href="#chapter1.8">Глава 1.8 Пользовательская настройка интерфейса</a></li>
        <li><a href="#chapter1.9">Глава 1.9 Настраиваем представление команд</a></li>
        <li><a href="#chapter1.10">Глава 1.10 Модель разработки глобального командного интерфейса</a></li>
        <li><a href="#chapter1.11">Глава 1.11 Создаём произвольные команды. Свойства <b>"Группа"</b> и <b>"Тип параметра команды"</b>.</a>
            <ul class="list2">
                <li><a href="#chapter1.11.1">Создадим произвольную подчинённую команду для объекта конфигурации</a></li>
                <li><a href="#chapter1.11.2">Особенности размещения</a></li>
            </ul>
        </li>
        <li><a href="#"></a></li>
        <li><a href="#"></a></li>
    </ul>









    <h3 class="header-style2" id="chapter1.1">Глава 1.1 Пользователь, интерфейс, команда</h3>
    <p><span class="vue-d-b">Пользователь</span> - человек, работающий с прикладным решением в режиме 1С:Предприятие. для обеспечения удобной и безопасной работы, для пользователя создаются пользовательские интерфейсы.</p>
    <p><span class="vue-d-b">Пользовательский интерфейс в 1С</span> - кнопочки, формочки на экране, обеспечивающие передачу информации между пользователем и программным обеспечением 1С. Составной частью пользовательского интерфейса является командный интерфейс, обеспечивающий доступ к функциональности программы.</p>
    <p><span class="vue-d-b">Команда</span> - это кнопка или ссылка, клик по которой побуждает программу выполнять какое то действие. При этом команда может быть отдата только пользователем, который имеет на это право.</p>
    <p><span class="vue-d-b">Командный интерфейс</span> - совокупность команд(кнопок, ссылок), доступных пользователю, при помощи которых он отдаёт приказы системе на выполнение действий.</p>
    <p>Команды бывают разные: одни позволяют перемещаться между функциональными блоками программы, другие вызывают различные формы, третьи выполняют действия с данными. В связи с тем, что различные пользователи выполняют различные задачи, права на использование обрабатываемой системной информацией и состав доступных команд для них будут различаться.</p>
    <p>Таким образом, при разработке командного интерфейса необходимо решить две основные задачи:</p>
    <ul class="list">
        <li>из множества команд, исполняемых программой, выделить подмножество команд, доступных конкретному пользователю;</li>
        <li>предоставить возможность пользователю вызывать доступные команды;</li>
    </ul>








    <h3 class="header-style2" id="chapter1.2">Глава 1.2 Прикладное решение глазами пользователя</h3>
    <p>В данной главе рассматривается структура пользовательского интерфейса прикладного решения под названием "Такси".</p>
    <p>При запуске показательной базы "Глава 1.2. Прикладное решение глазами пользователя" открывается основное окно приложения. В рабочей области основного окна мы видим <span class="vue-d-b">начальную страницу</span>, с которой начинается работа пользователя с прикладным решением.</p>
    <p>Задача начальной страницы - быстрое включение пользователя в работу. На начальной странице находятся формы, которые наиболее часто используются в данном решении. Например, список продаж товаров, расчёты с контрагентами, курсы валют и т.д. Причём каждый пользователь видит те формы, которые соотвествуют специфике его работы.</p>
    <p>Состав форм на начальной странице настраивается при разработке конфигурации(в т.ч. программно). Однако пользователь также может изменить состав форм из списка доступных форм, предназначенных для этого разработчиком. Подробно о настройке пользователем будет рассказано в главе 2.10</p>
    <p class="title-size16"><b id="chapter1.2.1">Основное окно приложения</b></p>
    <p>Речь в этой подглаве ведётся о том, где расположенны панели, с помощью которых пользователь осуществялет навигацию по приложению.</p>
    <p>Показ этих панелейможет быть включён/выключен как при разработке, так и в пользовательском режиме. При этом и разработчик и пользователь могут настраивать расположение этих панелей в основном окне так, как им удобно.</p>
    <p>Состав панелей интерфейса:</p>
    <ul class="list">
        <li>область системных команд;</li>
        <li>панель разделов;</li>
        <li>панель функций текущего раздела;</li>
        <li>панель интсрументов;</li>
        <li>панель избранного;</li>
        <li>панель истории;</li>
        <li>панель открытых;</li>
        <li>рабочая область;</li>
        <li>информационная панель;</li>
    </ul>
    <img src="../img/1С-1/2023-07-10_22-38-29.png" class="screen" alt="">
    <p>В самом верху окна находится <span class="vue-d-b">область системных команд</span>. В этой области выводится заголовок приложения и располагаются системные команды, состав которых не зависит от конкретного прикладного решения. Системные команды обеспечивают выполнение общих действий по управлению прикладным приложением. Например, обеспечивают доступ к главному меню прикладного решения, расположенного в правой части области системных команд. Слева от заголовка находится <span class="vue-d-b">меню функций</span>(в виде 3х полосок), при нажатии на него покажутся функции(команды) текущего раздела. Также меню функций покажется если нажать 2 раза на раздел.</p>
    <p>Если в информационной базе ведётся список пользователей, то в области системных команд отображается гиперссылка с именем пользователя, при нажатии на которую появляется диалог с информацией о текущем пользователе.</p>
    <p>Отображение остальных панелей может настраиваться как в конфе в целом для решения, так и пользователем под себя в режиме "1С:Предприятие".</p>
    <p>Под областью системных команд расположена <span class="vue-d-b">панель разделов</span>. Разделы делаят всю функциональность приложения на части, каждая из которых содержит набор команд, объединённых прикладным смыслом. Разделы приклданого решения соотвествуют подсистемам верхнего уровня. Если подсистем в конфигурации нет, то панель разделов не будет отображаться в основном окне приложения.</p>
    <p>Для повышения наглядности каждой подсистеме можно установить картинку. Причём и в конфе, и в режиме "1С:Предприятие" при настройке панели разделов можно установить расположение текста под картинкой или справа от неё.</p>
    <p>Первым разделом всегда является основной раздел, который называется Главное. В него помещаются команды, котрые всегда должны быть под рукой у конкретного пользователя в зависимости от его роли.</p>
    <p>Состав и порядок остальных разделов стандартно настраиваются разработчиком в конфе, но пользователь в режиме "1С:Предприятие" может изменить их по своему желанию.</p>
    <p>Под панелью разделов расположена <span class="vue-d-b">панель функций текущего раздела</span>. В начале панели обычно расположены команды, открывающие формы различных списков.</p>
    <p>Команды в этой панели, которые не в группах Создать, Отчеты и Сервис называются <span class="vue-d-b">командами навигации</span>, а вск команды что в этих группах называются <span class="vue-d-b">командами действия</span>.</p>
    <p>Команды навигации в этой панели могут распологаться в 3х стандартных невидимых группах: "Важное", "Обычное", "См. также". В группе "Важное" команды выделены жирным шрифтом и располагаются в самом начале, потом по важности идёт группа "Обычное" и за ней "См. также". Если все команды навигации не помещаются в этой панели, то в конце появится меню Ещё, где расположатся остальные команды навигации.</p>
    <p>В группаз Создать, Отчеты и Сервис сгруппированы команды, позволяющие выполнять различные действия: создавать новые элементы данных, формировать различные отчёты или выполнять какие-то обработки. После них могут находится произвольные группы команд, созданные разработчиком. Если команды в какой то группе отсутствуют, то эта группа не отображается на панели.</p>
    <p><span class="vue-d-b">Меню функций</span>, как уже писал выше открывается по кнопке в самом верху слева, либо при повторном клике по разделу. Меню функций содержит всё то же , что и панель функций текущего раздела, только немного в другом виде. В меню функций при подведении курсора к команде слева появляется звёздочка, при нажатии на которую команда попадёт в избранное.</p>
    <p>В правом верхнем углу меню функций находятся поле ввода для поиска и меню настроек. После ввода букв в поле ввода для поиска во всех разделах прикладного решения выполняется поиск функций, в представлении которых содержатся искомые буквы.</p>
    <p>Дальше рассказ про панель интсрументов. Инструмент <span class="vue-d-b">Избаранное, История, Поис</span>к. С помощью специального языка выражений для поиска можно выполнять полнотекстовый поиск по началу слов, "неточный" поиск, поиск по синонимам и т.д.</p>
    <p>Из панели инструментов пользователь может открыть <span class="vue-d-b">центр оповещений</span>, который предназначен для работы с оповещениями пользователя. Стандартно последние 3 оповещения показываются на несколько секунд в правом нижнем углу рабочей области основного окна, после чего пропадают. Но важные сообщения пользователю запоминаются в центре оповещений "1С:Предприятия". Если у пользователя появились новые важные сообщения, то в панели интсрументов рядом со значком появится оранжевая точка. Самые последние оповещения всегда находятся вверху списка. Оповещения можно удалить кнопкой очистки.</p>
    <p>Удобным интсрументом для переключения между окнами, открытыми в текущем сеансе работы с прикладным решением, является <span class="vue-d-b">панель открытых</span>. По умолчанию она не видна в интерфейсе приложения.</p>
    <p>В подвале основного окна приложения отображается <span class="vue-d-b">информационная панель</span>, которая показывает, включён ли режим имитации задержек при вызове сервера и показатели производителности системы. Они нужны для анализа и оптимизации клиент-серверного взаимодействия, о котором речь пойдёт в 4й части.</p>
    <p>Далее подглава рассказывает о настройке расположения панелей в интерфейсе через конфигуратор и в пользовательском режиме.</p>
    <P>Затем подглава рассказывает о 4х режимах основного окна приложения: Обычный, Рабочее место, Полноэкранное рабочее место и Киоск.</P>

    <p class="title-size16"><b id="chapter1.2.2">Окно клиентского приложения</b></p>
    <p>Для отображения форм, созданных в прикладном решении, используются <span class="vue-d-b">окна клиентского приложения</span>. При работе в интерфейсе "Такси" большинство форм открываются в окнах клиентского приложения, которые расположены в рабочей области основного окна приложения. Исключением являются блокирующие окна, которые могут блокировать как окно владельца, так и сразу весь интерфейс приложения.</p>
    <p>Если окно клиентского приложения открыто в режиме блокирования окна владельца, система не позволит переключиться на окно, из которого было открыто блокирующее, до тех пор, пока последнее не будет закрыто.</p>
    <p>Окна, блокирующие весь интерфейс, обеспечивают работу приложения без использования модальных окон. Отказ от модальности есть необходимым условием для работы "1С:Предприятия" в веб-клиенте и на мобильных устройствах, а также по ряду других причин.</p>
    <p>При закрытии окна клиентского приложения не происходит завершения работы прикладного решения.</p>
    <p>В окне клиентского приложения можно выделить <span class="vue-d-b">основную форму</span>, которая показывается в разделе "Основное" панели навигации окна клиентского приложения. При нажатии на другие ссылки в панели навигации окна клиентского приложения будут открываться <span class="vue-d-b">вспомогательные формы</span>.</p>
    <p>Структура окна клиентског оприложения следующая:</p>
    <img src="../img/1С-1/2023-07-11_22-02-27.png" class="screen" alt="">
    <p><span class="vue-d-b">Команды перехода между открытыми окнами клиенсткого приложения</span> позволяют перейти к начальной странице. Радом с ними находится кнопка в виде звёздочки, с помощью которой можно поместить форму в избранное или удалить её из избранного.</p>
    <p><span class="vue-d-b">Панель навигации окна клиентского приложения</span> позволяет просматривать различные сведения, логически связанные с данными, которые отображает основная форма окна. В панели навигации первой всегда является команда "Основное", которая предназначена для открытия основной формы окна клиентского приложения. Затем следуют остальные команды, с помощью которых можно открыть вспомогательные формы. Если все команды панели навигации не помещаются, то в конце будет подменю "Ещё", которое будет содержать оставшиеся команды.</p>
    <p><span class="vue-d-b">Командная панель формы</span> содержит команды, непосредственно связанные с объектом, который отображается в основной форме</p>











    <h3 class="header-style2" id="chapter1.3">Глава 1.3 Командный интерфейс системы</h3>
    <p>Какие команды бывают? Все команды можно разделить по <span class="vue-d-b">источникам</span> и по <span class="vue-d-b">области видимости</span>:</p>
    <img src="../img/1С-1/2023-07-07_17-45-36.png" class="screen" alt="">
    <p>Данная картинка не даёт исчерпывающие данные о командах, потому что эти команды, в зависимости от условий, можно назвать и по другому. Например, "что команды делают" - изменяют состав данных или изменяют сами данные; "необходимость в параметрах" - одни команды не требуют для своего исполнения параметров, а другим надо передавать параметры.</p>
    <p>По источникам команды можно разделить на 3 группы:</p>
    <ul class="list">
        <li>системные команды;</li>
        <li>стандартные команды объектов и расширений форм и некоторых элементов формы(таблица, табличный документ и т.д.);</li>
        <li>произвольные команды</li>
    </ul>
    <p><span class="vue-d-b">Системные команды</span> предопределены на уровне технологичесткой платформы и предоставляются автоматически. Их состав и выполняемые действия одинаковы для любого прикладного решения и не могут быть измененены разработчиком.</p>
    <p><span class="vue-d-b">Стандартные команды</span> предопределены на уровне объекта конфигурации (или расширения формы) и предоставляются автоматически. Состав стандартных команд зависит от того, какие объекты присутствуют в конфигурации и какие значения заданы для свойств этих объектов. Выполняемые действия также предопределены, но разработчик может в какой то мере повлиять на них, для этого используется механизм событий.</p>
    <p><span class="vue-d-b">Произвольные команды</span> полностью создаются разработчиком. Для этого существует объект конфигурации Команда. Для создания универсального функционала используются <span class="vue-d-b">общие</span> команды. Для создания функционала, специфического для того или иного объекта, используются команды <span class="vue-d-b">подчинённые</span> этому объекту.</p>
    <p>По области видимости команды делятся:</p>
    <ul class="list">
        <li>на глобальные;</li>
        <li>локальные команды формы;</li>
    </ul>
    <p><span class="vue-d-b">Глобальные команды</span> предназначены для выбора пользователем той или иной функциональности в рамках приложения в целом. В состав глобальных команд входят системные команды, стандартные команды объектов конфигурации, а также общие и подчинённые произвольные команды.</p>
    <p><span class="vue-d-b">Локальные команды формы</span> предназначены для выполнения действий в форме. В состав локальных команд входят стандартные команды формы, команды расширений некоторых элементов формы, а также произвольные команды формы. Эти команды доступны только в подтексте той или иной формы.</p>
    <p>Глобальные команды формируют <span class="vue-d-b">глобальный командный интерфейс</span> прикладного решения. Локальные команды формы и, возможно, часть глобальных команд формируют <span class="vue-d-b">командный интерфейс форм</span></p>
    <p>Каждому пользователю предоставлены только те команды, которые ему необходимы для решения своих конкретных задач.</p>
    <p>Как же "ужимается" командный интерфейс? Для этого давайте разберёмся с тем, как система формирует командный интерфейс пользователя.</p>

    <p class="title-size16"><b id="chapter1.3.1">Структура командного интерфейса</b></p>
    <p>При запуске прикладного решения для пользователя формируется <span class="vue-d-b">индивидуальный глобальный командный интерфейс</span>. Его структура, т.е. размещение команд, <span class="vue-d-b">однозначно определяется иерархией подсистем конфигурации и свойствами самих команд</span>. Состав же команд, включённых в командный интерфейс, определяется правами пользователя, значениями функциональных опций и видимостью по ролям.</p>
    <p>Кроме того, выполнение настроек командного интерфейса пользователем под себя, также влияют на размещение и состав команд командного интерфейса этого пользователя.</p>
    <p>Структура глобального командного интерфейса:</p>
    <img src="../img/1С-1/2023-07-12_08-18-57.png" class="screen" alt="">
    <p>Все системные команды размещаются в области меню системных команд основного окна приложения.</p>
    <p>В панели разделов размещаются команды для выбора разделов.</p>

    <p class="title-size16"><b id="chapter1.3.2">Влияние подсистем</b></p>
    <p>Почему же иерархия подсистем однозначно определяет структуру КИ? Да потому, что это логично.</p>
    <p>Обычно с помощью подсистем описываются различные виды деятельности, т.е. с их помощью формируется <span class="vue-d-b">функциональная структура</span> ПР. Под функционально структурой понимается все команды, которые есть в разделе(открытие форм справочников, документов, отчётов и т.д.)</p>
    <p>В одной подсистеме имеет смысл собирать объекты конфигурации, создающие тесно связанную функциональность. При этом состав подсистем верхнего уровня иерархии отражает наиболее общее разделение функциональности ПР. Например, разработчик может определеить подсистему Запасы и собрать в ней функции управления складскими запасами, а в подсистеме Взаиморасчёты объединить функции управления взаиморасчётами с контрагентами и т.д.</p>
    <p>Функциональность же КИ обеспечивают команды. Для того, чтобы КИ был удобным, не перегруженным и не содержал "лишних" команд, разработку ПР рекомендуется начинать с определения его функциональной структуры.</p>
    <p>Это значит, что перед созданием функциональности(создание объектов конфигурации, написанием кода) разработчик должен эту функциональность описать иерархией элементов. Корень иерархии будет соответствовать создаваемому ПР(корневому элементу конфигурции), а элементы - объектам конфигупации Подсистема.</p>
    <p>У подсистемы, для которой был сформирован раздел, могут существовать подчинённые подсистемы. В этом случае для каждой из подчинённых подсистем будет сформирован  <span class="vue-d-b">подраздел</span>, отображаемый группой в меню функций. В подразделах отображаются команды объектов, включённых в соответствующую подчинённую подсистему.</p>
    <img src="../img/1С-1/2023-07-08_17-18-21.png" class="screen" alt="">
    <p>Также из картинки видно, что команды включённые в сам раздел и те команды, которые включены в подраздел никак друг от друга не разделены, а идут друг за другом.</p>
    <p>Отдельно стоит обратить внимание на КИ раздела Главное. Этот раздел предназначен для отображения наиболее важных и часто используемых пользователем команд. Именно этот раздел активизируется при запуске ПР.</p>
    <p>В связи с тем, что для разных пользователей состав важной информации различен, раздел Главное не связан с какой-либо из подсистем. По той же причине состав доступных команд формируется вручную разработчиком.</p>
    <p>Для наполнения раздела Главное командами используется <span class="vue-d-b">редактор командного интерфейса</span> основного раздела. О нём поговорим позже.</p>

    <p class="title-size16"><b id="chapter1.3.3">Формирование состава глобального командного интерфейса. Роли и права для них. Влияние на отображение функциональных опций. Пользовательские настройки для отображения команд.</b></p>
    <p>Страница 37, кратко опишу. Система при наполнении командного интерфейса командами смотрит на права пользователя, на функциональные опции(что включено, а что выключено). Рассказывается немного про права и как настроить роль для пользователя, что разрешить, что запретить и т.д. Также рассказывается доступ команд по функциональным опциям. И ещё рассказывается как пользователь может сам настроить отображение тех или иных команд под себя.</p>
    <p>В конце главы краткие итоги и картинка обобщающая как формируется глобальный командный интерфейс.</p>









    
    <h3 class="header-style2" id="chapter1.4">Глава 1.4 Настраиваем состав команд</h3>
    <p>Для показа механизмов конструирования командного интерфейса мы будем использовать демо базу "Глава 1.2. Прикладное решение глазами пользователя". Результат решения этой задачи будет в демо базе "Глава 1.4. Настраиваем состав команд".</p>
    <p><b>Постановка задачи</b>.</p>
    <p>На предприятии процесс ценообразования вынесен в отдельный функциональный блок и управлением ценами занимаются специально выделенные сотрудники. В демо базе операции управления ценами совмещены с операциями управления товарными запасами в подсистеме Товарные запасы.</p>
    <img src="../img/1С-1/2023-07-12_09-18-52.png" class="screen" alt="">
    <p>Нужно выделить функционал управления ценами в отдельную подсистему и создать командный интерфейс для сотрудников, работающих с этой подсистемой.</p>
    <p><b>Состав разделов</b>.</p>
    <p>Как уже было сказано, состав команд панели разделов определяется составом объектов конфигурации Подсистема верхнего уровня иерархии. Однако создание в дереве конфигурации подсистемы верхнего уровня ещё не гарантирует, что для неё при построении командного интерфейса будет создан раздел.</p>
    <p>Формирование раздела командного интерфейса для подсистемы верхнего уровня иерархии управляется свойством подсистемы "Включать в командный интерфейс".</p>
    <img src="../img/1С-1/2023-07-12_09-30-22.png" class="screen" alt="">
    <p>Данное свойство оказывает влияние на формирование раздела командного интерфейса для всех пользователей прикладного решения, независимо от назначенных им ролей. Если для подсистемы это свойство установлено, то для неё будет сформирован отдельный раздел, а стандартные команды объектов конфигурации, включённых в подсистему, будут учитываться при формировании командного интерфейса пользователя. Если же свойство не установлено, то не будет сформирован раздел и команд не будет видно.</p>
    <p>Продолжим решать поставленную задачу.</p>
    <p>Создадим подсистему верхнего уровня "Ценообразование". В редакторе зададим имя и синоним. Далее вспомним, что доступность раздела для пользователя определяется значением права "Просмотр", установленным у роли пользователя для соответствующей подсистемы. Проконстролируем значение этого права для роли Администратор - право должно быть установлено.</p>
    <img src="../img/1С-1/2023-07-12_09-46-52.png" class="screen" alt="">
    <p>Право для новых объекто устанавливается автоматически, потому что у роли Администратор установлен флажок "Устанавливать права для новых объектов".</p>
    <p>Следующим действием по созданию раздела является его наполнение командами.</p>
    <p><b>Стандартные команды</b>.</p>
    <p>Для начала разберёмся, какими же командами может быть наполнен раздел командного интерфейса.</p>
    <p><span class="vue-d-b">В раздел командного интерфейса включаются стандартные команды тех объектов конфигурации, которые принадлежат соответствующей подсистеме верхнего уровня(и подсистемам, иерархически ей подчинённым)</span>.</p>
    <p>Что же подразумевается под <span class="vue-d-b">стандартной командой</span>? Каждый объект конфигурации имеет стандартный набор свойств, определяющий его поведение по умолчанию. Для доступа к функциональности объекта платформа предоставляет некоторый набор команд. Вот эти команды и являются стандартными. Для стандартных команд выполняемые действия определены на уровне платформы и не могут быть изменены разработчиком.</p>
    <p>Например, для объекта конфигупрации Товары, добавленного в состав какой-нибудь подсистемы Запасы, платформа сама добавит в этот раздел команду Товары, которая будет открывать форму списка справочника Товары. Вот команда Товары в разделе Запасы будет стандартной командой.</p>
    <p>От чего зависит состав стандартных команд? Он зависит от класса объектов, которому принадлежит объект конфигурации. Например, объект Товары создан от класса объектов Справочники, а значит плаформа предоставит несколько стандартных команд для этого объекта: Товары - отрывает форму списка товаров, Товар - откроет форму создания нового товара, Товары: создать группу - откроет форму создания новой группы. А вот объект конфигурации Остатки товаров, созданный от класса Отчеты, предоставит только одну стандартную команду - Остатки товаров, которая открывает форму отчёта.</p>
    <img src="../img/1С-1/2023-07-12_10-11-13.png" class="screen" alt="">
    <p>Как видно из картинки, мы можем видеть какие стандартные команды предоствляет система для объекта конфигурации и также можно настраивать их отображение в редакторе командного интерфейса.</p>
    <p>Стандартная команда Товары: создать группу по умолчанию невидима в командном интерфейсе.</p>
    <p>Кроме класса на состав команд объекта конфигурации влияют и значение свойств этого объекта. Например, справочник Товары предоставляет стандартные команды как для создания элемента, так и для создания группы, а справочник Склады - только команду создания нового элемента.</p>
    <p>А причина заключается в том, что у справочника Товары установленно свойство "Иерархический сповочник" со значением "Иерархия групп и элементов", а у справочника Склады это свойство сброшено.</p>
    <p>Также как и с подсистемами, наличие объекта в дереве конфигурации ещё не гарантирует наличие его команд в командном интерфейсе. Чтобы платформа могла сама добавить стандартные команды объекта в раздел, нужно чтобы у объекта конфигурации было установленно свойтсво "Использовать стандартные команды". По умолчанию это свойство установлено.</p>
    <img src="../img/1С-1/2023-07-12_12-32-15.png" class="screen" alt="">
    <p>Пришло время обеспечить подсистему Ценообразование командами, но для начала определимся, какими объектами создан создан функционал управления ценами. В демо базе их 3:</p>
    <ul class="list">
        <li>Справочник Товары - хранит список товаров и услуг, для которых могут назначяться цены.</li>
        <li>Справочник Виды цен - хранит список видов цен, которые могут быть назначены каждому товару(услуге).</li>
        <li>Регистр сведений Цены товаров - хранит значения цен в разрезе товаров и видов цен.</li>
    </ul>
    <p>Включим каждый из указанных объектов в нашу подсистему. Для этого надо заполнить свойство Состав подсистемы Ценообразование.</p>
    <p>Как и для подсистем, доступность для пользователя объектов и их стандартных команд определяется значением прав, установленных у роли пользователя для этих объектов. Проконтролируем значения прав для этих 3х объектов. Готово. </p>









    <h3 class="header-style2" id="chapter1.5">Глава 1.5 Настраиваем доступность команд по ролям</h3>
    <p>Страница 65. В этой главе рассматривается система прав доступа  и её влияние на командный интерфейс. Когда будет необходимость, то почитать про права в этой главе.</p>








    <h3 class="header-style2" id="chapter1.6">Глава 1.6 Редактирование командного интерфейса</h3>
    <p>Страница 62. В основном рассказывается о командах, какие бывают команды: навигационные, параметризированные, независимые. В каких категориях можно разместить команды: Важное, Обычное, См. также. Какие бывают стандартные группы команд: Создать, Отчеты, Сервис. Разработчик также может создать свою группу команд через объект конфигурации "Группа команд", она разместиться после стандартных групп.</p>
    <p>В панели команд текущего раздела распологаются <i>независимые глобальные навигационные команды</i>.</p>
    <p>В стандартных группах располагаются <i>независимые глобальные команды действий</i>.</p>
    <p>Если открыть какую нибудь форму справочника или документа, то в панели навигации располагаются <i>параметризированные навигационные глобальные команды</i>.</p>
    <p>Также в форме справочника или документа ниже панели навигации есть панель команд, в ней распологаются <i>параметризированные глобальные команды действий</i>.</p>
    <p>Со страницы 97 пошло объяснение как настраивать отображение команд и размещение их в командном интерфейсе в редакторе. Для этого в конфигураторе либо у корня, либо у подсистемы в контекстном меню выбираем командный интерфейс и там уже передвигаем, ставим галочки для команд.</p>
    <p>Чтобы настроить размещение и отображение команд в основном разделе, то у корня в контекстном меню выбираем "Открыть командный интерфейс основного раздела" и настраиваем.</p>
    <p>Далее идёт подробное объяснение как в этом редакторе настраивать команды. Очень полезно почитать, когда такая информация понадобится.</p>









    <h3 class="header-style2" id="chapter1.7">Глава 1.7 Влияние функциональных опций на командный интерфейс</h3>
    <p>Страница 116.</p>









    <h3 class="header-style2" id="chapter1.8">Глава 1.8 Пользовательская настройка интерфейса</h3>
    <p>Страница 126. Пропустил пока.</p>










    <h3 class="header-style2" id="chapter1.9">Глава 1.9 Настраиваем представление команд</h3>
    <p>Страница 140. Пропустил пока.</p>










    <h3 class="header-style2" id="chapter1.10">Глава 1.10 Модель разработки глобального командного интерфейса</h3>
    <p>Страница 147. Пропустил пока.</p>








    <h3 class="header-style2" id="chapter1.11">Глава 1.11 Создаём произвольные команды</h3>
    <p>Помимо стандартных команд "1С:Предприятие" позволяет разработчику создавать произвольные команды и размещать их в интерфейсе такими же способами, которыми размещаются стандартные команды. Действия, выполняемые этими произвольными командами, разработчик описывает на встроенном языке в специальных модулях - модулях команд.</p>
    <p>Объект конфигурации Команда предназначен для создания в ПР <i>нестандартных действий</i> с возможностью использования <i>стандартных механизмов</i> включения этих действий в командный интерфейс.</p>
    <p>Платформа никак не ограничивает состав произвольных команд и написанных к ним действий.</p>
    <p>При создании произвольной команды разработчик должен установить её свойства, определяющие правила включения команды в интерфейс. И также написать программный код, определяющий выполняемые командой действия. Этим и отличаются произвольные команды от стандартных. Для последних и свойства и выполняемые действия определены самой платформой.</p>
    <p>В конфигурации произвольные команды могут быть созданы или как независимые объекты - общие команды, или как команды, подчинённые другим объектам.</p>
    <p><span class="vue-d-b">Общие произвольные команды</span> позволяют создать нестандартные действия, относящиеся в целом к прикладному решению. В этом случае произвольная команда создаётся как независимый объект конфигурации, принадлежащий классу <span class="vue-b">Общие команды</span>:</p>
    <img src="../img/1С-1/2023-07-09_08-13-30.png" alt="">
    <p><span class="vue-d-b">Подчинённые произвольные команды</span> позволяют создать нестандартные действия для какого-либо объекта конфигурации.</p>
    <p>На торговых предприятиях часто требуется автоматизировать процесс записи продаваемого товара. Для этого используются сканеры штрихкодов. Однако платформа ничего "не знает" об этих устройствах и не имеет средств работы с ними. Значит, для работы со сканерами требуется подключать специальную программу - драйвер. В показательной базе для подключения такого драйвера создана общая произвольная команда "Установить сканер штрихкодов". Установив определённые значения свойств этой команды, разработчик обеспечивает её доступность пользователям. Имеется ввиду, когда разработчик устанавливает в свойстве Группа, палитры свойств этой команды, значение - "Панель действий.Сервис", т.е помещает команду в группу Сервис.</p>
    <p>Функции работы со сканером являются общими для всего ПР, т.е. не относятся к какому-то конкретному объекту конфигурации, поэтому произвольная команда создана как общая.</p>
    <p>Ещё одной распространённой задачей является получение печатных копий электронных документов. Естественно, в платформе невозможно предусмотреть всё многообразие документов и варианты их печатных форм. Для того чтобы "научить" документ "переносить" себя на бумагу, можно воспользоваться произвольной командой.</p>

    <p class="title-size16"><b id="chapter1.11.1">Создадим произвольную подчинённую команду для объекта конфигурации</b></p>
    <p>В демо базе для получения печатной формы документа "РасходТовара" создана подчинённая команда "ПечатьРасходнойНакладной". Обычно команды с функцией печати помещают в группу, которую разработчик сам и создаёт и называют её Печать, а затем в эту группу собираются вместе все команды с функционалом печати.</p>
    <p>Для того чтобы создать свою группу существует класс <span class="vue-b">Группа команд</span> в ветке Общие, создаём такую группу:</p>
    <img src="../img/1С-1/2023-07-09_09-21-17.png" class="screen" alt="">
    <p>Как видно на картинке группа Печать была размещена в Категории "Командная панель формы". Это значит, что группу Печать будет распологаться в командной панели какой то формы.</p>
    <p>Вот так выглядит созданная команда "ПечатьРасходнойНакладной":</p>
    <img src="../img/1С-1/2023-07-09_09-40-21.png" class="screen" alt="">
    <p>В свойстве Группа указываем ранее созданную группу Печать, т.е. мы помещаем нашу команду в эту группу. Так как наша команда помещается в форму, то значит наша команда параметрозависимая и значит нужно указать и второе свойство "Тип параметра команды".</p>
    <p>Значение свойства "Тип параметра команды" задаёт тип данных для аргумента процедуры ОбработкаКоманды - ПараметрыКоманды. Этот параметр идёт первым в процедуре. Когда в форме документа мы нажмём на команду "ПечатьРасходнойНакладной" в меню Печать, то сработает эта процедура и в парметр ПараметрыКоманды попадёт ссылка конкретно на текущий документ.</p>
    <img src="../img/1С-1/2023-07-09_18-29-17.png" class="screen" alt="">
    <p>Видимо система получив тип данных ДокументСылка.РасходТоваров, понимает, что нужно разместить группу Печать с командой внутри в формах связанных с документом "РасходТоваров", а именно в форме спика, в форме документа, может ещё в каких формах связанным с этим документом. Готово.</p>
    <p>Продолжаем. Ещё одним специфическим способом использования произвольных команд является расширение или переопределение стандартной функуиональности стандартной команды. Такие задачи возникают, например, вследствии требования сократить количество ручных операций или изменить стандартное поведение объектов.</p>
    <p>Приведём пример с обработкой. Есть обработка "АдминСервис", у неё есть форма какая то. По умолчанию система сама расположит команду открытия формы обработки среди команд действий группы Сервис. Нам не надо, чтобы команда была в группе Сервис, а мы хотим расположить её в командах навигации текущего раздела. Если забылось, то напомню, что в панели команд текущего раздела всё что не в группах это навигационные команды, а то что в группах это команды действия.</p>
    <p>Итак, нужно разместить команду вызова формы обработки в навигационных командах раздела. Для этого в конфигураторе откроем редоктор объекта обработки АдминСервис и перейдём на закладку Команды, там внизу есть галочка "Использовать стандартные команды". Эта установленная галочка как раз и говорит системе, чтобы она сама размещала обработки в группе Сервис. Уберём эту галку и создадим свою произвольную команду "АдминСервис", в свойствах этой команды в Группа выберем место, куда мы хотим поместить её, выберем Панель навигации.Обычное. Всё, если посмотрим в пользовательском режиме, то увидим эту команду среди других глобальных команд навигации раздела. В подсистему также не забыть добавить обработку.</p>
    <p>Чтобы команда открывала форму обработки, то в модуле команды можно раскоментировать заготовку, там как раз уже есть код открытия формы.</p>

    <p class="title-size16"><b id="chapter1.11.2">Особенности размещения</b></p>
    <p>Особенностью произвольных команд по сравнению со стандартными является необходимость описания места их размещения разработчиком по умолчанию в командном интерфейсе.</p>
    <p>В остальных же точках(аспектах) управления произвольными командами: доступность по ролям, управление видимостью команды, настройка зависимости от функциональных опций и т.д. - соответствуют управлению стандартными командами.</p>
    <p>Размещение в командном интерфейсе для произвольных команд определяется:</p>
    <ul class="list">
        <li>категорией и группой, назначенной команде;</li>
        <li>принадлежность команды к подсистеме конфигурации(для независимых команд);</li>
        <li>типом параметра команды(для параметризуемых команд);</li>
    </ul>
    <p>Категория и группа устанавливаются в свойстве Группа этой команды.</p>
    <p>При выборе группы для команды следует обращать внимание на необходимость в передаче параметров команде и на действия, выполняемые командой. Тут можно придерживаться тех же правил, которые используются для стандартных команд:</p>
    <ul class="list">
        <li>Если команда для своего исполнения не требует параметров, то для неё выбирают группу с категорией "Панель навигации" или "Панель действий".</li>
        <li>Если команда для своего исполнения требует передачи параметра, то для неё необходимо выбрать группу с категорией "Панель навигации формы" или "Командная панель формы".</li>
        <li>Для команд, выполнение которых приводит к изменению информации, отображаемой в рабочей области того же окна, следует выбирать категорию "Панель навигации" для незавизимых команд или "Панель навигации формы" для параметризуемых команд.</li>
        <li>Дла команд, выполнение которых приводит к изменению данных в информационной базе, следует выбирать категорию "Панель действий" для независимых команд или "Командная панель формы" для параметризуемых команд. Также эту категорию стоит выбирать для команд, которые приводят к открытию блокирующих окон.</li>
    </ul>
    <p>Для включения <i>общей независимой команды</i> в тот или иной раздел командного интерфейса необходимо указать её принадлежность к соответствующим подсистемам.</p>
    <p>Подчинённую же команду непосредственно включить в подсистему невозможно. Поэтому <i>подчинённые независимые команды</i> автоматически включаются в командный интерфейс тех подсистем, в которые включён объект - владелец команды. Тут у меня вопрос. Как команда может быть подчинённая и в то же время независимая? Как выглядит такая команда? Могу предположить как пример такой команды был описан выше в виде обработки. Там мы для обработки создали подчинённую команду, в модуле команды задали открытие формы этой обработки. Хотя в процедуре ОбработкаКоманды есть параметры, но в данном случае они не нужны, чтобы открыть форму. Получается команда подчинена Объекту конфигурации Обработки, поэтому подчинённая, но располагается в панели команд раздела(подсистемы), а значит не имеет параметров, поэтому независимая.</p>
    <p>А вот параметризуемые произвольные команды, как общие, так и подчинённые, включаются в командный интерфейс иначе. Связано это с тем, что значение своего параметра команда может получить только из данных формы. Причём это значение должно иметь тип данных, допустимый для параметра. Состав допустимых типов параметра устанавливается в свойстве "Тип  параметра команды"</p>
    <p>Вот следующее предложение отвечает на мой вопрос как влияет свойство "Тип параметра команды" на то в каких формах отображать команду. Сравнивая состав типов, заданных в свойстве "Тип параметра команды", с типами реквизитов формы, система принимает решение о включении команды в ту или иную форму. Вот поэтому команда "ПечатьРасходнойНакладной" и появилась в форме списка документа, потому что там есть реквизиты с такими типами данных как задано в этом свойстве, а именно реквизит Ссылка имеет такой тип как ДокументСсылка.ПродажаТоваров.</p>
    <p><i>Параметризуемая произвольная команда включается в форму только тогда, когда форма имеет хотя бы один рекизит с типом, входящим в состав допустимых.</i> При проверке учитываются и реквизиты, подчинённые основному реквизиту формы. Состав проверяемых подчинённых реквизитов ограничен первым уровнем подчинения.</p>
    

</div>
