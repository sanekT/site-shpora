<div class="wrap">
   
    <h2 class="header-style">Язык запросов</h2>

    <ul class="list">
        <li><a href="#1">Основы синтаксиса</a></li>
        <li><a href="#2">Группировка в запросах</a></li>
        <li><a href="#3">Условия в запросах</a></li>
        <li><a href="#4">Упорядочивание в запросах</a></li>
        <li><a href="#5">Функции для работы с датой в запросах</a></li>
        <li><a href="#6">Функции работы со строками в запросе</a></li>
        <li><a href="#7">Условный оператор в запросе</a></li>
        <li><a href="#8">Операторы МЕЖДУ и В</a></li>
    </ul>







    <h3 class="header-style2" id="1">Основы синтаксиса</h3>
    <p><b>Выбрать по имени реквизита(поля, свойства, столбца)</b></p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ 
                Справочник.Еда
            </b></span>
            //вернутся все строки столбца(поля таблицы БД) Наименование

            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование, Цвета
            ИЗ 
                Справочник.Еда
            </b></span>
            //вернутся все строки столбцов(полей таблицы БД) Наименование и Цвета

            <span class="vue-b"><b>ВЫБРАТЬ
                *
            ИЗ 
                Справочник.Еда
            </b></span>
            //вернутся все строки всех столбцов(полей таблицы БД)
        </pre>
    </div>

    <p><b>Выбрать первые N строк</b></p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ ПЕРВЫЕ 3
                Наименование
            ИЗ 
                Справочник.Еда
            </b></span>
            //вернутся первые 3 строки столбца(поля таблицы БД) Наименование
        </pre>
    </div>

    <p><b>Выборка различных строк</b></p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ РАЗЛИЧНЫЕ
                Наименование
            ИЗ 
                Справочник.Еда
            </b></span>
            //если есть строки в Наименование которых есть повторяюшиеся названия, то слово Различные возвратит только одну такую строку
            //это что то вроде выборки уникальных названий
            //ну например есть 3 строки с название Банан, этот запрос вернёт только одну такую строку
        </pre>
    </div>

    <p><b>Выборка строк по реквизиту в значениях которого ссылки на другой справочник</b></p>
    <p>Например у нас есть документ ЗаказКлиента</p>
    <img src="../img/1С-1/2022-10-28_09-44-25.png" class="screen2" alt="">
    <p>В нём как видим только 3 реквизита - Дата, Номер и Клиент. Мы можем получить имена всех клиентов</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Клиент
            ИЗ 
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <p>Но из-за того что типом реквизита Клиент является ссылка на другой спаровчник(тип реквизита Клиент -> СправочникСсылка.Клиенты)</p>
    <img src="../img/1С-1/2022-10-28_13-16-07.png" class="screen2" alt="">
    <p>То мы можем обращаться из этой таблицы(Документ.ЗаказКлиента) к данным таблицы Справочник.Клиенты</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Номер,
                Дата,
                Клиент,
                Клиент.ЛюбимыйЦвет, <span class="vue-g">//тут и</span>
                Клиент.Код <span class="vue-g">//тут мы уже обращаемся в таблицу Справочник.Клиенты</span>
            ИЗ 
                Документ.ЗаказКлиента
            </b></span>
            //от себя добавлю, хотел ещё получить Клиент.Пол, но там лежит ссылка на ПеречислениеСсылка.Пол
            //как получить его пока не знаю
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-28_13-21-26.png" class="screen" alt="">
    <p>Но это ещё не все данные, которые есть у документа Документ.ЗаказКлиента, есть ещё табличная часть по имени Продукты. Это как бы ещё одна таблица привязанная к документу. У этой таблицы есть свои реквизиты(столбцы)  - Еда и Количество. И чтобы добраться к ним из запроса мы сначала добираемся до самой таблицы Документ.ЗаказКлиента.Продукты, а уже потом указываем реквизиты табличной части</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Еда,
                Количество
            ИЗ 
                Документ.ЗаказКлиента.Продукты
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-28_13-39-22.png" class="screen" alt="">
    <p>Выборка. В каждом элементе документа есть табличная часть с этими полями, вот по этому запросу и получим все строки табличных частей из всех строк списка документа.</p>
    <img src="../img/1С-1/2022-10-28_13-45-25.png" class="screen2" alt="">











    <h3 class="header-style2" id="2">Группировка в запросах</h3>
    <p>Давайте запросим из таблицы Справочник.Еда следующие реквизиты: Наименование, Цвет, Калорийность. Вот ответ:</p>
    <img src="../img/1С-1/2022-10-29_08-19-40.png" class="screen2" alt="">
    <p>Теперь нам надо вычислить сумму поля Калорийность для каждого цвета. Алгоритм для жёлтого цвета будет такой.</p>
    <ul class="list">
        <li>Находим все строки поля Цвет, у которых стоит Жёлтый.</li>
        <li>Это будут строки 1, 6, 8 и 9.</li>
        <li>Суммируем поле Калорийность всех этих строк: 89 + 31 + 340 + 536</li>
        <li>Получаем, что для жёлтого цвета суммарная калорийность равна 996.</li>
    </ul>
    <p>И так для каждого цвета. Описанный процесс называется группировкой. Таким образом группировка это схлопывание(свёртка) строк таблицы по определённому признаку.</p>
    <p>При группировке все поля делятся на 2 группы:</p>
    <ul class="list">
        <li><b>Группировочные</b> - это как раз те поля, по которым идёт свёртка. В нашем случае таким полем является Цвет.</li>
        <li><b>Группируемые</b> - это те поля, которые сворачиваются(объединяются). В нашем случае таким полем является Калорийность.</li>
    </ul>
    <p>Группируемые поля не могут быть сами по себе. К ним обязательно применяется одна из агрегатных функций: СУММА, СРЕДНЕЕ, МИНИМУМ, МАКСИМУМ, КОЛИЧЕСТВО, КОЛИЧЕСТВО РАЗЛИЧНЫЕ.</p>
    <img src="../img/1С-1/2022-10-29_08-34-29.png"  alt="">

    <p><b>Агрегатная функция СУММА</b>.</p>
    <p>Это как раз случай, который мы разбирали выше. Все строки группируются по группировочному полю Цвет, а группируемые строки поля Калорийность суммируются:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                СУММА(Количество)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_08-39-43.png" alt="">

    <p><b>Агрегатная функция СРЕДНЕЕ</b>.</p>
    <p>Все строки группируются по группировочному полю Цвет, а среди группируемых строк поля Калорийность находится среднеарифметическое:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                СРЕДНЕЕ(Количество)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_08-43-16.png" alt="">

    <p><b>Агрегатная функция МИНИМУМ</b>.</p>
    <p>Все строки группируются по группировочному полю Цвет, а среди группируемых строк поля Калорийность находится минимальное значение:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                МИНИМУМ(Количество)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_08-45-02.png" alt="">

    <p><b>Агрегатная функция МАКСИМУМ</b>.</p>
    <p>Все строки группируются по группировочному полю Цвет, а среди группируемых строк поля Калорийность находится максимальное значение:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                МАКСИМУМ(Количество)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_08-46-11.png" alt="">

    <p><b>Агрегатная функция КОЛИЧЕСТВО</b>.</p>
    <p>Все строки группируются по группировочному полю Цвет, а среди группируемых строк поля Калорийность находится их количество:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                КОЛИЧЕСТВО(Количество)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_08-48-05.png" alt="">

    <p><b>Агрегатная функция КОЛИЧЕСТВО РАЗЛИЧНЫЕ</b>.</p>
    <p>Все строки группируются по группировочному полю Цвет, а среди группируемых строк поля Калорийность находится количество элементов с различными значениями. Что это значит? Это значит что ищется в поле Калорийность разные значения у одного и того же цвета и подсчитываются эти уникальные значения. Предположим что в таблице у цвета Жёлтый в поле Калорийность было бы 2 раза по 89, тогда в результате у цвета Жёлтный будет не 4 , а 3:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                КОЛИЧЕСТВО РАЗЛИЧНОЕ(Количество)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_08-49-47.png" alt="">

    <p><b>Группировка без группируемых полей и агрегатных функций.</b></p>
    <p>Использование агрегатных функций в запросе не требуется, если результатом запроса будут только группировочные поля.</p>
    <img src="../img/1С-1/2022-10-29_09-02-04.png" alt="">
    <p>К примеру сделаем группировку всех вкусов, которые встречаются среди еды.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Вкус
            ИЗ 
                Справочник.Еда
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_09-08-52.png" alt="">
    <p>Как видим вкусы повторяются, давайте их сгруппируем:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Вкус
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Вкус
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_09-10-10.png" alt="">
    <p>Кстати того же ответа можно добиться и по такому запросу:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ РАЗЛИЧНЫЕ
                Вкус
            ИЗ 
                Справочник.Еда
            </b></span>
        </pre>
    </div>

    <p><b>Группировка без группировочных полей</b></p>
    <p>Соответственно группировочных полей также не требуется, если результатом запроса будут группируемые поля.</p>
    <img src="../img/1С-1/2022-10-29_09-14-09.png" alt="">
    <p>К примеру, получим результаты агрегатных функций применительно к полю Калорийность без группировочных полей(то есть по всей таблице)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                СУММА(Калорийность) КАК Сумма,
                СРЕДНЕЕ(Калорийность) КАК Среднее,
                МИНИМУМ(Калорийность) КАК Минимум,
                МАКСИМУМ(Калорийность) КАК Максимум,
                КОЛИЧЕСТВО(Калорийность) КАК Количнство
            ИЗ 
                Справочник.Еда
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_09-18-45.png" alt="">


    <p><b>Группировка по нескольким полям</b></p>
    <p>Группировочных полей как и группируемых может быть сколь угодно много. В запросе они перечисляются через запятую.</p>









    <h3 class="header-style2" id="3">Условия в запросах</h3>
    <p>Давайте напишем запрос, который запрашивает из таблицы Спарвочник.Еда наименование еды, её цвет, вкус и калорийность.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование, 
                Цвет,
                Вкус,
                Калорийность
            ИЗ 
                Справочник.Еда
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_10-47-22.png" alt="">

    <p><b>Секция ГДЕ</b></p>
    <p>А теперь давайте запросим еду только жёлтого цвета. Делается это при помощи секции ГДЕ, в которой необходимо задать условия отбора.</p>
    <img src="../img/1С-1/2022-10-29_10-49-43.png" alt="">
    <p>В нашем случае таким условием будет равенство реквизита Цвет(а вернее его свойства Наименование) цвету "Жёлтый"</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование, 
                Цвет,
                Вкус,
                Калорийность
            ИЗ 
                Справочник.Еда
            ГДЕ
                Цвет.Наименование = "Жёлтый"
            </b></span>

            //почему именно Цвет.Наименование, потому что в реквизите Цвет лежит ссылка на справочник Цвета
        </pre>
    </div>
    <p>Ответ:</p>
    <img src="../img/1С-1/2022-10-29_10-56-10.png" alt="">
    <p>Условие отбора может определяться и как простое логическое выражение, и как более сложное, в котором простые логические выражения соединяются между собой логическими операторами И, ИЛИ, НЕ. Для примера выберем еду, у которой Цвет равен "белый" или Калорийность > 100</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование, 
                Цвет,
                Вкус,
                Калорийность
            ИЗ 
                Справочник.Еда
            ГДЕ
                Цвет.Наименование = "Белый" ИЛИ
                Калорийность > 100
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_11-02-59.png" alt="">

    <p><b>Секция ИМЕЮЩИЕ</b></p>
    <p>Если в запросе используется группировка и мы хотим наложить условие на результаты группировки, секция ГДЕ не подойдёт. Вместо неё нужно использовать секцию ИМЕЮЩИЕ. Давайте подсчитаем сумму строк поля Калорийность по цветам:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                СУММА(Калорийность)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет 
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_11-11-31.png" alt="">
    <p>А теперь наложим условие на результат группировки так, чтобы остались цвета с суммарной калорийностью больше 100:</p>
    <img src="../img/1С-1/2022-10-29_11-13-20.png" alt="">
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет,
                СУММА(Калорийность)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            ИМЕЮЩИЕ
                СУММА(Калорийность) > 100    
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_11-17-04.png" alt="">
    <p>Обратим внимание, что агрегатные функции, которые учавствуют в условии, не обязаны входить в выборку:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            ИМЕЮЩИЕ
                СУММА(Калорийность) > 100    
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_11-19-50.png" alt="">
    <p>Условие отбора в секции ИМЕЮЩИЕ может определяться и как простое логическое выражение, и как более сложное, в котором простые логические выражения соединяются операторами И, ИЛИ, НЕ. Для примера давайте выбрем цвета имеющие суммарную калорийность больше 200 и меньше 300:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Цвет
                СУММА(Калорийность)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Цвет
            ИМЕЮЩИЕ
                СУММА(Калорийность) > 200 И   
                СУММА(Калорийность) &lt; 300    
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_11-24-11.png" alt="">

    <p><b>Примеры по базе Гастроном:</b></p>
    <p>Выберем из таблицы все названия вкусов кроме солёного:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ 
                Справочник.Вкусы
            ГДЕ
                Наименование &lt;> "Солёный"
                //и второй вариант этого же условия
                НЕ Наименование = "Солёный"
            </b></span>
        </pre>
    </div>
    <p>Получить всю еду из таблицы Спарвочник.Еда, которая сладкая или кислая по вкусу:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ 
                Справочник.Еда
            ГДЕ
                Вкус.Наименование = "Сладкий" ИЛИ
                Вкус.Наименование = "Кислый"
            </b></span>
        </pre>
    </div>
    <p>Написать запрос, который выводит вкус, средняя калорийность которого(в таблице Справочник.Еда) меньше 100:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Вкус,
                СРЕДНЕЕ(Калорийность)
            ИЗ 
                Справочник.Еда
            СГРУППИРОВАТЬ ПО
                Вкус
            ИМЕЮЩИЕ
                СРЕДНЕЕ(Калорийность) &lt; 100
            </b></span>
        </pre>
    </div>









    <h3 class="header-style2" id="4">Упорядочивание в запросах</h3>
    <p>Если мы запросим, например, Наименование и Код из таблицы Справочник.Еда, то к нам, в зависимости от СУБД на серверной стороне, может прийти ответ из строк в разной последовательности. Чтобы упорядочить последовательность есть следующие инструменты.</p>
    <p><b>Секция УПОРЯДОЧИТЬ ПО</b></p>
    <p>Поля, по которым требуется упорядочивание пишутся в секции УПОРЯДОЧИТЬ ПО через запятую.</p>
    <img src="../img/1С-1/2022-10-29_18-41-09.png" alt="">
    <p>Следом за именем поля может идти одно из слов: ВОЗР(упорядочить по возрастанию), УБЫВ(упорядочить по убыванию). По умолчанию идёт по возрастанию по первому столбцу. Давайте запросим Наименование и Код из таблицы Справочник.Еда, упорядочив по убыванию по полю Код.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Код,
                Наименование
            ИЗ 
                Справочник.Еда
            УПОРЯДОЧИТЬ ПО
                Код УБЫВ
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_18-46-23.png" alt="">
    <p>По возрастанию поля Наименование(азбучный порядок).</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Код,
                Наименование
            ИЗ 
                Справочник.Еда
            УПОРЯДОЧИТЬ ПО
                Наименование ВОЗР
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_18-49-01.png" alt="">
    <p>А теперь давайте упорядочим следующую таблицу:</p>
    <img src="../img/1С-1/2022-10-29_18-51-44.png" alt="">
    <p>так чтобы сначала шла сортировка по полю Вкус по возрастанию, а затем(среди строчек с одинаковым значением поля Вкус) шла сортировка по полю Цвет по убыванию:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Вкус,
                Цвет
            ИЗ 
                Справочник.Еда
            УПОРЯДОЧИТЬ ПО
                Вкус.Наименование ВОЗР
                Цвет.Наименование УБЫВ
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_18-57-23.png" alt="">
    <p>Отдельно обратим вниманиена то, что мы указали сортировку не по самим полям Вкус и Цвет, а по их строковому реквизиту Наименование. Это связано с тем, что сортировка возможна лишь по полям имеющих тип: Строка, Число, Дата. А поля Вкус и Цвет являются ссылками на элементы справочников Вкусы и Цвета, сортировать по которым нет смысла(в этом случае сортировка будет вестить по внутреннему идентификатору ссылки). Зато можно сделать по одному из реквизитов, например, Наименование.</p>
    <p><b>Автоупорядочивание</b></p>
    <p>1С не советует применять её без необходимости. Если вдруг понадобится эта возможность, то оставлю ссылку на страницу. где она описана. Также опишу случаи, в которых сожно использовать автоупорядочивание. <b>1)</b>Для универсальных запросов, когда разработчик не может предвидеть, из каких таблиц будут запрашиваться данные; <b>2)</b>Для случаев, когда получаемый порядок записей не важен, но при этом он должен быть одинаковым в независимости от применяемой СУБД.</p>
    <p><b>Примеры</b></p>
    <p>Написать запрос, который получает список клиентов, упорядоченный по их любимому цвету по возрастанию</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                ЛюбимыйЦвет
            ИЗ 
                Справочник.Клиенты
            УПОРЯДОЧИТЬ ПО
                ЛюбимыйЦвет.Наименование ВОЗР
            </b></span>
        </pre>
    </div>
    <p>Написать запрос, который получает список заказов клиентов(таблица Документ.ЗаказКлиента) упорядоченный по дате по убыванию.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Номер,
                Дата,
                Клиент
            ИЗ 
                Документ.ЗаказКлиента
            УПОРЯДОЧИТЬ ПО
                Дата УБЫВ
            </b></span>
        </pre>
    </div>
    <p>Написать запрос, котрый получает список документов "Установка цен на еду для клиентов"(таблица Документ.УстановкаЦенНаЕдуДляКлиентов), упорядоченный по клиентам по возрастанию, а затем по датам по убыванию.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Клиент,
                Номер,
                Дата
            ИЗ 
                Документ.УстановкаЦенНаЕдуДляКлиентов
            УПОРЯДОЧИТЬ ПО
                Клиент.Наименование ВОЗР,
                Дата УБЫВ
            </b></span>
        </pre>
    </div>












    <h3 class="header-style2" id="5">Функции для работы с датой в запросах</h3>
    <p>Разберём функции для работы с реквизитом типа Дата в запросах.</p>
    <p><b>Функция ДАТАВРЕМЯ</b></p>
    <p>Эта функция в качестве параметров принимает целочисленные Год, Месяц, День, Час, Минута и Секунда. Последние 3 параметра необязательны. Назначение функции ДАТАВРЕМЯ состоит в конструировании даты по её отдельным компонентам. Таким образом следующий запрос:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДАТАВРЕМЯ(2013, 02, 01)
            </b></span>
        </pre>
    </div>
    <p>вернёт нам таблицу с типом поля ДАТА и значением 1 февраля 2013 года:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>01.02.2013 00:00:00</td>
        </tr>
    </table>
    <p>Значение часов, минут и секунд равно нулю, потому что мы их не указывали.</p>
    <p><b>Отступление</b></p>
    <p>Обратим внимание на текст запроса, мы получаем таблицу как бы "из воздуха", не указывая в секции ИЗ источник данных. Получается тогда, что не обязательно делать запрос к реально существующим таблицам БД. Можно конструировать эти таблицы самостоятельно, задавая константные значения полей.</p>
    <p>Например, так(поля типа ЧИСЛО)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                1,
                2,
                3
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
            <td>Поле2</td>
            <td>Поле3</td>
        </tr>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>3</td>
        </tr>
    </table>
    <p>Или так(поля типа СТРОКА)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                "Привет",
                ",",
                "мир",
                "!"
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
            <td>Поле2</td>
            <td>Поле3</td>
            <td>Поле4</td>
        </tr>
        <tr>
            <td>Привет</td>
            <td>,</td>
            <td>мир</td>
            <td>!</td>
        </tr>
    </table>
    <p>Или вообще вот так(поля разных типов):</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                "Какой то текст",
                ДАТАВРЕМЯ(2013, 02, 01),
                1
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
            <td>Поле2</td>
            <td>Поле3</td>
        </tr>
        <tr>
            <td>Какой то текст</td>
            <td>01.02.2013 00:00:00</td>
            <td>1</td>
        </tr>
    </table>
    <p>Вернёмся для работы с датой</p>

    <p><b>Функция ГОД</b></p>
    <p>Принимает праметр типа ДАТА, возвращает год</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ГОД(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>2 013</td>
        </tr>
    </table>

    <p><b>Функции КВАРТАЛ</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает номер квартала даты(целочисленное значение от 1 до 4). Квартал это каждый сезон года по 3 месяца.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                КВАРТАЛ(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>1</td>
        </tr>
    </table>

    <p><b>Функции МЕСЯЦ</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает номер месяца даты(целочисленное значение от 1 до 12)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                МЕСЯЦ(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>2</td>
        </tr>
    </table>

    <p><b>Функции ДЕНЬГОДА</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает номер дня в году(целочисленное значение от 1 до 366)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДЕНЬГОДА(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>32</td>
        </tr>
    </table>

    <p><b>Функции ДЕНЬ</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает номер дня в месяце(целочисленное значение от 1 до 31)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДЕНЬ(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>1</td>
        </tr>
    </table>

    <p><b>Функции НЕДЕЛЯ</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает номер недели в году</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                НЕДЕЛЯ(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>5</td>
        </tr>
    </table>

    <p><b>Функции ДЕНЬНЕДЕЛИ</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает номер дня недели(от 1 до 7)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДЕНЬНЕДЕЛИ(ДАТАВРЕМЯ(2013, 02, 01))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>5</td>
        </tr>
    </table>

    <p><b>Функции ЧАС</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает час суток(от 0 до 23)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ЧАС(ДАТАВРЕМЯ(2013, 02, 01, 20, 38, 17))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>20</td>
        </tr>
    </table>

    <p><b>Функции МИНУТА</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает минуты часа(от 0 до 59)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                МИНУТА(ДАТАВРЕМЯ(2013, 02, 01, 20, 38, 17))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>38</td>
        </tr>
    </table>

    <p><b>Функции СЕУНДА</b></p>
    <p>Принимает параметр типа ДАТА. Возвращает секунды в минуте(от 0 до 59)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                СЕУНДА(ДАТАВРЕМЯ(2013, 02, 01, 20, 38, 17))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>17</td>
        </tr>
    </table>

    <p><b>Функции НАЧАЛОПЕРИОДА</b></p>
    <p>Принимает параметр типа ДАТА и тип перода(одно из значений МИНУТА, ЧАС, ДЕНЬ, НЕДЕЛЯ, МЕСЯЦ, КВАРТАЛ, ГОД, ДЕКАДА, ПОЛУГОДИЕ). Функция предназначена для получения даты начала периода по дате, принадлежащей этому периоду.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                НАЧАЛОПЕРИОДА(ДАТАВРЕМЯ(2013, 02, 01), ГОД)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>01.01.2013 00:00:00</td>
        </tr>
    </table>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                НАЧАЛОПЕРИОДА(ДАТАВРЕМЯ(2013, 02, 01), НЕДЕЛЯ)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>28.01.2013 00:00:00</td>
        </tr>
    </table>

    <p><b>Функции КОНЕЦПЕРИОДА</b></p>
    <p>Принимает параметр типа ДАТА и тип перода(одно из значений МИНУТА, ЧАС, ДЕНЬ, НЕДЕЛЯ, МЕСЯЦ, КВАРТАЛ, ГОД, ДЕКАДА, ПОЛУГОДИЕ). Функция предназначена для получения даты начала периода по дате, принадлежащей этому периоду.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                КОНЕЦПЕРИОДА(ДАТАВРЕМЯ(2013, 02, 01), ГОД)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>31.12.2013 23:59:59</td>
        </tr>
    </table>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                КОНЕЦПЕРИОДА(ДАТАВРЕМЯ(2013, 02, 01), НЕДЕЛЯ)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>03.02.2013 23:59:59</td>
        </tr>
    </table>

    <p><b>Функции ДОБАВИТЬКДАТЕ</b></p>
    <p>Принимает параметр типа ДАТА и тип увеличения(одно из значений СЕКУНДА, МИНУТА, ЧАС, ДЕНЬ, НЕДЕЛЯ, МЕСЯЦ, КВАРТАЛ, ГОД, ДЕКАДА, ПОЛУГОДИЕ) и величину увеличения(целочисленное значение)</p>
    <p>Функция предназначена для добавления к дате некоторой величины.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДОБАВИТЬКДАТЕ(ДАТАВРЕМЯ(2013, 02, 01), МЕСЯЦ, 1)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>01.03.2013 00:00:00</td>
        </tr>
    </table>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДОБАВИТЬКДАТЕ(ДАТАВРЕМЯ(2013, 02, 01), КВАРТАЛ, 2)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>01.08.2013 00:00:00</td>
        </tr>
    </table>

    <p><b>Функции РАЗНОСТЬДАТ</b></p>
    <p>Принимает 2 параметра типа ДАТА и 3й параметр тип разности(одно из значений СЕКУНДА, МИНУТА, ЧАС, ДЕНЬ, МЕСЯЦ, КВАРТАЛ, ГОД)</p>
    <p>Функция предназначена для получения разницы между двумя датами(2м и 1м параметром)</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                РАЗНОСТЬДАТ(ДАТАВРЕМЯ(2013, 02, 01), ДАТАВРЕМЯ(2014, 02, 01), ГОД)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>1</td>
        </tr>
    </table>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                РАЗНОСТЬДАТ(ДАТАВРЕМЯ(2013, 02, 01), ДАТАВРЕМЯ(2014, 02, 01), МЕСЯЦ)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>12</td>
        </tr>
    </table>

    <p><b>В функции можно передавать не только константы, но и поля таблиц</b></p>
    <p>В функции можно передавать не только даты, сконструированные при помощи ДАТАВРЕМЯ, но и свойства объекта, которые мы запрашиваем из БД имеющих тип ДАТА.</p>
    <p>К примеру, если мы запрашиваем документы и нам известно, что свойство Дата имеет тип ДАТА, это означает, что мы можем использовать его в качестве параметров для функций работащих с датой.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Дата, 
                ГОД(Дата),
                НАЧАЛАОПЕРИОДА(Дата, МЕСЯЦ),
                ДАТАВРЕМЯ(1999, 01, 01)
            ИЗ
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-29_23-56-54.png" alt="">
    <p>Мы можем использовать одновременно оба типа дат:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Дата, 
                РАЗНОСТЬДАТ(ДАТАВРЕМЯ(1999, 01, 01), Дата, День)
            ИЗ
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-30_08-22-18.png" alt="">
    <p><b>Примеры</b></p>
    <p>Получить по запросу все заказы клиентов из таблицы Документ.ЗаказКлиента и отдельно получить год, месяц и день, на которые приходятся заказы.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Дата, 
                Номер,
                Клиент,
                ГОД(Дата),
                МЕСЯЦ(Дата),
                ДЕНЬ(Дата)
            ИЗ
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-30_08-38-05.png" alt="">
    <p>Написать запрос, который выводит разницу между датой 1 января 2014 и 1 января 2000 в годах, месяцах, днях, часах, минутах и секундах.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Дата, 
                Номер,
                Клиент,
                ГОД(Дата),
                МЕСЯЦ(Дата),
                ДЕНЬ(Дата)
            ИЗ
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
            <td>Поле2</td>
            <td>Поле3</td>
            <td>Поле4</td>
            <td>Поле5</td>
            <td>Поле6</td>
        </tr>
        <tr>
            <td>14</td>
            <td>168</td>
            <td>5 114</td>
            <td>122 736</td>
            <td>7 364 160</td>
            <td>441 849 600</td>
        </tr>
    </table>
    <p>Написать запрос, который выведет дату от 1 января 2014 года 100 000 дней назад.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДОБАВИТЬКДАТЕ(ДАТАВРЕМЯ(2014, 01, 01), ДЕНЬ, -100000)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>18.03.1740 00:00:00</td>
        </tr>
    </table>
    <p>Написать запрос, который выводит день недели, который пришёлся на день победы 9 мая 1945года</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ДЕНЬНЕДЕЛИ(ДАТАВРЕМЯ(1945, 05, 09))
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>3</td>
        </tr>
    </table>
    <p>Написать запрос, который получает все заказы клиентов(таблица ДокументЗаказКлиента) и отдельно выводит начало и конец квартала, в который попадает заказ:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Дата, 
                Номер,
                НАЧАЛОПЕРИОДА(Дата, КВАРТАЛ),
                КОНЕЦПЕРИОДА(Дата, КВАРТАЛ)
            ИЗ
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-30_08-57-04.png" alt="">















    <h3 class="header-style2" id="6">Функции работы со строками</h3>
    <p>Прмяо скажем механизмов работы со строками мало в запросах 1С. По-первых строки можно складывать, во-вторых от строки можно взять подстроку. В-третьих, строки можно сравнивать, в том числе и по шаблону. Вот и всё что можно желать со строками.</p>
    <p>Когда мы говорим о строке в запросе, то имеется в виду либо постоянная строка:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                "Жизнь прекрасна"
            </b></span>
        </pre>
    </div>
    <p>либо реквизит таблицы, у которого тип СТРОКА:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Назначение
            ИЗ
                Справочник.Еда
            </b></span>
        </pre>
    </div>

    <p><b>Сложение строк</b></p>
    <p>Для сложения используется операция + :</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                "Еда:" + Назначение
            ИЗ
                Справочник.Еда
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>
                Еда:Банан<br>
                Еда:Колбаса<br>
                Еда:Кефир<br>
                ...
            </td>
        </tr>
    </table>

    <p><b>Функция ПОДСТРОКА</b></p>
    <p>Данная функция предназначена для выделения подстроки  из строки. В качестве параметров принимает:</p>
    <ul class="list">
        <li><b>строку</b>, из которой необходимо выделить подстроку</li>
        <li><b>позицию символа</b>, с которого начинается выделаемая из строки подстрока</li>
        <li><b>длину</b> выделяемой подстроки</li>
    </ul>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ПОДСТРОКА("1234567890", 1, 5)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>12345</td>
        </tr>
    </table>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                ПОДСТРОКА("1234567890", 3, 4)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>3456</td>
        </tr>
    </table>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                ПОДСТРОКА(Наименование, 1, 2)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>
                Банан<br>
                Колбаса<br>
                Кефир<br>
                ...
            </td>
            <td>
                Ба<br>
                Ко<br>
                Ке<br>
                ...
            </td>
        </tr>
    </table>

    <p><b>Функция ПОДОБНО</b></p>
    <p>Если нужно убедиться, что строковый реквизит соответствует искомой строке, то мы его сравниваем с этой строкой:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ
                Справочник.Еда
            ГДЕ
                Наименование = "Лимон"
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Лимон</td>
        </tr>
    </table>
    <p>А что если нужно более хитрое сравнение? Не просто на равенство или неравенство, а на подобие определённому шаблону? Вот как раз для этого и создана функция ПОДОБНО. Если быть совсем точным, то это даже не функция, а оператор, который позволяет сравнить значение выражения указанного слева от него, со строкой шаблона, указанной справа.</p>
    <p>Значение выражения должно иметь тип строка. Если значение выражения удовлетворяет шаблону - результатом оператора будет ИСТИНА, иначе, ЛОЖЬ.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ
                Справочник.Еда
            ГДЕ
                Наименование ПОДОБНО "[К]%"
            </b></span>
        </pre>
    </div>
    <p>Результатом данного запроса будет вся еда, наименование которой начинается на букву "К". Буква "К" в квадратных скобках в данном случае означает, что первым символом наименования должна быть буква "К". Знак "%", идущий следом означает, что после буквы "К" могут идти(или не идти) любые символы в любом количестве.</p>
    <p>При формировании строки шаблона есть определённые правила, которые нужно соблюдать:</p>
    <ul class="list">
        <li><b>%</b> означает любое количество произвольных символов</li>
        <li><b>_</b> означает один произвольный символ</li>
        <li><b>[]</b> означает любой одиночный символ, перечисленный внутри скобок</li>
        <li><b>[^]</b> означает любой одиночный символ, кроме тех, что перечислены внутри скобок после ^</li>
    </ul>
    <p>Примеры шаблонов с пояснениями:</p>
    <p>"%" абсолютно любая строка(даже пустая)</p>:
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>
                Лимон<br>
                Банан<br>
                Кефир<br>
                ...
            </td>
        </tr>
    </table>
    <p>"___" строка из 3х любых символов:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Сыр</td>
        </tr>
    </table>
    <p>"[ЧЛ]%[ЫН]" строка, начинающаяся с буквы <b>Ч</b> или <b>Л</b> и оканчивающаяся на <b>Ы</b> или <b>Н</b>:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Чипсы<br>Лимон</td>
        </tr>
    </table>
    <p>"[^К]%" строка, не содержащая в начале букву <b>К</b>:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Банан<br>Чипсы<br>Лимон<br>...</td>
        </tr>
    </table>
    <p>"[А-К]%" строка, начинающаяся с буквы из отрезка с <b>А</b> по <b>К</b>:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Банан<br>Колбаса<br>Кефир<br>...</td>
        </tr>
    </table>
    <p>Обратим внимание на приём, использованный в шаблоне "[А-К]%". Вместо того, чтобы перечислять все буквы от А до К, например, так "[АБВГДЕЁЖЗИЙК]", мы указали отрезок значений через чёрточку. Квадратные скобки позволяют это делать.</p>
    <p><b>Примеры</b></p>
    <p>написать запрос, который выводит все заказы клиентов(таблица Документ.ЗаказКлиента) и первые 3 буквы имени клиента в каждом заказе:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Номер,
                Дата,
                ПОДСТРОКА(Клиент.Наименование, 1, 3)
            ИЗ
                Документ.ЗаказКлиента
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Номер</td>
            <td>Дата</td>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>000000001<br>000000002<br>...<br>000000010<br></td>
            <td>01.01.2014 12:00:00<br>10.01.2014 12:00:00<br>...<br>17.03.2014 12:00:00</td>
            <td>Анд<br>Нат<br>...<br>Анд</td>
        </tr>
    </table>
    <p>Написать запрос, который получает цвета(таблица Справочник.Цвета), в названии которых присутствует сочетании букв "ра"</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ
                Справочник.Цвета
            ГДЕ
                Наименование ПОДОБНО "%[р][а]%"
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Красный<br>Оранжевый</td>
        </tr>
    </table>
    <p>Написать запрос, который получает цвета, в названии которых больше шести букв:</p>
    <p><b>Пока не знаю ответа, узнаю, допишу</b></p>













    <h3 class="header-style2" id="7">Условный оператор в запросе</h3>
    <p>Предположим мы написали запрос, который возвращает строки полей Наименование и Калорийность из таблицы Справочник.Еда. И хотим в результат добавить ещё одну колонку, в которую будем выводить жирность еды по следующим условиям:</p>
    <ul class="list">
        <li>если калорийность меньше 100, то жирность низкая</li>
        <li>если больше 100 и меньше 200, то в меру</li>
        <li>если больше 200 , то жирность высокая</li>
    </ul>
    <p>Как этого можно добиться, ведь в таблице Справочник.Еда нет колонки Жирность?Оказывается, эту колонку мы можем добавить сами, используя условный оператор внутри запроса:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Калорийность,
                ВЫБОР
                    КОГДА Калорийность &lt; 100 ТОГДА
                        "Низкая"
                    КОГДА Калорийность &lt; 200 ТОГДА
                        "В меру"
                    ИНАЧЕ
                        "Высокая"
                КОНЕЦ
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <p>Условия оператора обрабатывается последовательно. Если одно из них оказалось верным, то в качестве результата возвращается соответствующее значение. Если же одно из условий не выполнилось, то возвращается значение из секции ИНАЧЕ. Если же ни одно из условий не выполнилось и секции ИНАЧЕ нет, то вернётся NULL.</p>
    <p>Вот акая таблица к нам вернётся:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
            <td>Калорийность</td>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>Банан<br>Колбаса<br>...<br>Сыр<br></td>
            <td>89<br>254<br>...<br>340</td>
            <td>Низкая<br>Высокая<br>...<br>Высокая</td>
        </tr>
    </table>
    <p><b>Отступление</b></p>
    <p>Обратим внимание, что 3я колонка в таблице, которую вернул запрос, называется Поле1. Это имя было создано системой автоматом. В наших силах дать имя этой колонке. Для этого сразу после описания поля нужно написать ключевое слово КАК, а после пробела указать имя.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Калорийность,
                ВЫБОР
                    КОГДА Калорийность &lt; 100 ТОГДА
                        "Низкая"
                    КОГДА Калорийность &lt; 200 ТОГДА
                        "В меру"
                    ИНАЧЕ
                        "Высокая"
                КОНЕЦ КАК Жирность
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
            <td>Калорийность</td>
            <td>Жирность</td>
        </tr>
        <tr>
            <td>Банан<br>Колбаса<br>...<br>Сыр<br></td>
            <td>89<br>254<br>...<br>340</td>
            <td>Низкая<br>Высокая<br>...<br>Высокая</td>
        </tr>
    </table>
    <p>Пседонимы можно присваивать любым полям, в том числе тем, у которых уже есть имя. Давайте сделаем псевдоним Еда для поля Наименование.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование КАК Еда
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <p><b>Более сложные логические выражения в условиях оператора</b> </p>
    <p>Пример1</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                ВЫБОР
                    КОГДА Наименование ПОДОБНО "Б%" ТОГДА
                        "Начинается на Б"
                    КОГДА Наименование ПОДОБНО "К%" ТОГДА
                        "Начинается на К"
                    ИНАЧЕ
                        "Начинается на другую букву"
                КОНЕЦ
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>Банан<br>Колбаса<br>...<br>Сыр<br></td>
            <td>Начинается на Б<br>Начинается на К<br>...<br>Начинается на другую букву</td>
        </tr>
    </table>
    <p>Пример2</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                ВЫБОР
                    КОГДА ПОДСТРОКА(Наименование, 1, 3) = "Бан" ТОГДА
                        "Это банан"
                    КОГДА ПОДСТРОКА(Наименование, 1, 2) = "Чи" ТОГДА
                        "Это чипсы"
                    ИНАЧЕ
                        "Что то другое"
                КОНЕЦ
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>Банан<br>Колбаса<br>...<br>Сыр<br></td>
            <td>Это банан<br>Что то другое<br>...<br>Что то другое</td>
        </tr>
    </table>
    <p><b>Более сложные результаты условного оператора</b></p>
    <p>Конечно, результатом условного оператора может быть не только постоянная строка, но и любое другое выражение допустимое в запросе.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                ВЫБОР
                    КОГДА Код = "000000001" ТОГДА
                        "Банан"
                    КОГДА Код = "000000002" ТОГДА
                        Наименование
                    КОГДА Код = "000000003" ТОГДА
                        555
                    КОГДА Код = "000000004" ТОГДА
                        Калорийность
                    КОГДА Код = "000000005" ТОГДА
                        ДАТАВРЕМЯ(2014, 01, 01)
                    КОГДА Код = "000000006" ТОГДА
                        ИСТИНА
                    КОГДА Код = "000000007" ТОГДА
                        Ссылка
                КОНЕЦ
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
            <td>Поле1</td>
        </tr>
        <tr>
            <td>Банан<br>Колбаса<br>Кефир<br>Крыжовник<br>Чипсы<br>Клубника<br>Лимон<br>Мороженое<br>Сыр<br></td>
            <td>Банан<br>Колбаса<br>555<br>44<br>01.01.2014 00:00:00<br>Да<br>Лимон<br>пусто<br>пусто</td>
        </tr>
    </table>
    <p><b>Пример</b></p>
    <p>Написать запрос, котрый получает все заказы клиентов и выводит в какой день недели они были сделаны:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                ВЫБОР
                    КОГДА ДЕНЬНЕДЕЛИ(Дата) = 1 ТОГДА
                        "Понедельник"
                    КОГДА ДЕНЬНЕДЕЛИ(Дата) = 2 ТОГДА
                        "Вторник"
                    КОГДА ДЕНЬНЕДЕЛИ(Дата) = 3 ТОГДА
                        "Среда"
                    КОГДА ДЕНЬНЕДЕЛИ(Дата) = 4 ТОГДА
                        "Четверг"
                    КОГДА ДЕНЬНЕДЕЛИ(Дата) = 5 ТОГДА
                        "Пятница"
                    КОГДА ДЕНЬНЕДЕЛИ(Дата) = 6 ТОГДА
                        "Суббота"
                    ИНАЧЕ
                        "Воскресенье"
                КОНЕЦ КАК ДеньНедели
            ИЗ
                Справочник.Цвета
            </b></span>
        </pre>
    </div>
    <img src="../img/1С-1/2022-10-30_20-59-56.png" alt="">














    <h3 class="header-style" id="8">Операторы МЕЖДУ и В(относится к секции ГДЕ)</h3>
    <p><b>Логический оператор МЕЖДУ</b></p>
    <p>Работает как с числовыми отрезками, так и с датами.</p>
    <p>Оператор МЕЖДУ позволяет проверить, входит ли значение выражения, указанного слева от него в отрезок, указанный справа(включая гораницы отрезка). Таким образом такой пример:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Калорийность
            ИЗ
                Спарвочник.Еда
            ГДЕ
                Калорийность >= 200 И Калорийность &lt;= 300
            </b></span>
        </pre>
    </div>
    <p>можно написать так:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Калорийность
            ИЗ
                Спарвочник.Еда
            ГДЕ
                Калорийность МЕЖДУ 200 И 300
            </b></span>
        </pre>
    </div>
    <p>Если же надо наоборот выбрать всю еду, калорийность котрой не входит в отрезок(200, 300), то подойдёт следующая форма отрицания(НЕ):</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Калорийность
            ИЗ
                Спарвочник.Еда
            ГДЕ
                Калорийность НЕ МЕЖДУ 200 И 300
            </b></span>
        </pre>
    </div>
    <p>Оператор МЕЖДУ можно применять не только к числовым отрезкам. С датами он также хорошо работает:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Номер,
                Дата
            ИЗ
                Документ.ЗаказКлиента
            ГДЕ
                Дата МЕЖДУ ДАТАВРЕМЯ(2014, 01, 01) И ДАТАВРЕМЯ(2014, 01, 31)
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Номер</td>
            <td>Дата</td>
        </tr>
        <tr>
            <td>000000001<br>000000002</td>
            <td>01.01.2014 12:00:00<br>10.01.2014 12:00:00</td>
        </tr>
    </table>

    <p><b>Логический оператор В</b></p>
    <p><b>Проверка совпадения с одним из перечисленных</b></p>
    <p>Оператор В позволяет проверить, совпадает ли значение выражения, указанного слева от него, с одним из значений указанных справа. Таким образом вместо:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Цает
            ИЗ
                Справочник.Еда
            ГДЕ
                Цвет.Наименования = "Зелёный" ИЛИ
                Цвет.Наименования = "Красный" ИЛИ
                Цвет.Наименования = "Белый"
            </b></span>
        </pre>
    </div>
    <p>можно написать так:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Цает
            ИЗ
                Справочник.Еда
            ГДЕ
                Цвет.Наименование В ("Зелёный", "Красный", "Белый")
            </b></span>
        </pre>
    </div>
    <p>Ответ будет один и тот же.</p>
    <p>Если же надо наоборот выбрать всю еду, цвет которой не совпадает ни с одним значением из списка, то подойдёт форма отрицания с частицей НЕ:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование,
                Цает
            ИЗ
                Справочник.Еда
            ГДЕ
                Цвет.Наименование НЕ В ("Зелёный", "Красный", "Белый")
                //или
                Цвет.Наименование = "Жёлтый"
            </b></span>
        </pre>
    </div>
    <p><b>Проверка совпадения значения с одним из результата запроса</b></p>
    <p>Пусть нам требуется выбрать из базы только те цвета, которые присутствуют в описании еды. Таки образом в отобранном списке не должен присутствовать, например, чёрный цвет, так как еды чёрного цвета нет в базе. Один из способов как это можно сделать - использовать логический оператор В, справа от которого будет находится подзапрос, выбирающий названия цветов из всех записей справочника Еда:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ
                Справочник.Цвета
            ГДЕ
                Наименование В (
                    ВЫБРАТЬ
                        Цвет.Наименование
                    ИЗ
                        Справочник.Еда
                )
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Белый<br>Жёлтый<br>Зелёный<br>Красный</td>
        </tr>
    </table>
    <p>Также стоит упомянуть, что из внутреннего запроса есть возможность обращаться к полям внешнего запроса.</p>
    <p><b>Проверка принадлежности по иерархии для справочников</b></p>
    <p>Для справочников проверка может осуществляться и на принадлежность по иерархии. Для начала рассмотрим пример иерархического справочника. Посмотрим справочник Города в базе Гастроном. Его элементы отличаются от других справочников наличием папок. Это группы справочника.</p>
    <p>Группы отличаются от обычным элементов тем, что могут включать в себя другие группы и элементы. У каждого элемента(будь то группа или обычный элемент) может быть родитель. Например, родителем элемента Рио-де-Жанейро является группа Бразилия.</p>
    <p>Теперь давайте напишем такой запрос, который будет запрашивать выбранную группу-страну и элементы-города входящие в неё.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ
                Справочник.Города
            ГДЕ
                Ссылка В ИЕРАРХИИ (&ГруппаСтрана) 
            </b></span>
        </pre>
    </div>
    <p>Сейчас у нас выведутся все группы и все странны. Обратим внимание на то, что в тексте запроса переди именем ГруппаСтрана стоит амперсанд(&). Имена с амперсандами автоматом распознаются системой как параметры, значения которых должно быть задано перед выполнением запроса. После того как мы вставим этот запрос в консоль и нажмём кнопку "Выполнить", у нас появится возможность задать этот параметр, задав в качестве значения, например, группу Россия:</p>
    <img src="../img/1С-1/2022-10-31_10-06-40.png" alt="">
    <p>Если теперь нажмём кнопку "Выполнить", то отверт запроса будет таким:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Россия<br>Пермь<br>Красноярск<br>Воронеж</td>
        </tr>
    </table>
    <p>В ответ попала сама группа(Россия) и все её элементы(Пермь, Красноярск, Воронеж)</p>
    <p>Таким образом ответом оператора В ИЕРАРХИИ будет ИСТИНА, если значение выражения слева является ссылкой на элемент справочника и входит во множество значений справа(Россия) или иерархически принадлежит какой-нибудь группе, содержащейся в этом множестве(Пермь, Красноярск, Воронеж).</p>
    <p>В качестве множества значений, на совпадение с которыми выполняетс проверка, может фигурировать и результат запроса:</p>
    <img src="../img/1С-1/2022-10-31_10-21-35.png" alt="">
    <p>Для оператора В ИЕРАРХИИ также доступно использование частыицы НЕ перед ним.</p>

    <p><b>Примеры</b></p>
    <p>1)Написать запрос, который выбирает все строчки из заказов клиентов, в табличной части которых количество входит в отрезок (5, 15). В качестве истоника записей используем таблицу Документ.ЗаказКлиента.Продукты. Мы также хотим в ответе получить поля Номер и Дата замих строчек списка документа, для этого в табличной части есть поле Ссылка, эта ссылка содержит в себе ссылку на соответствующий элемент документа.</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Ссылка.Номер,
                Ссылка.Дата,
                Еда,
                Количество
            ИЗ
                Документ.ЗаказКлиента.Продукты
            ГДЕ
                Количество МЕЖДУ 5 И 15 
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Номер</td>
            <td>Дата</td>
            <td>Еда</td>
            <td>Количество</td>
        </tr>
        <tr>
            <td>000000001<br>000000007<br>000000009<br>000000009</td>
            <td>01.01.2014 00:00:00<br>30.03.2014 00:00:00<br>18.02.2014 00:00:00<br>18.02.2014 00:00:00</td>
            <td>Клубника<br>Крыжовник<br>Клубника<br>Кефир</td>
            <td>12<br>10<br>12<br>5</td>
        </tr>
    </table>
    <p>2)Написать запрос, который при помощи логического оператора В из справочника клиентов выбирает только Андрея и Наташу:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                наименование
            ИЗ
                Спарвочник.Клиенты
            ГДЕ
                Наименование В ("Андрей", "Наташа") 
            </b></span>
        </pre>
    </div>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Андрей<br>Наташа<br></td>
        </tr>
    </table>

    <p>3)Написать запрос 3мя разными способами, который выбирает из справочника Клиенты только тех, кто встречается в заказах клиентов за январь и март 2014 года. На выходе должна получиться в точности такая таблица:</p>
    <table border="1" style="margin-top: 0px;margin-bottom: 40px">
        <tr>
            <td>Наименование</td>
        </tr>
        <tr>
            <td>Андрей<br>Наташа<br></td>
        </tr>
    </table>
    <p>Первый способ:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Наименование
            ИЗ
                Справочник.Клиенты
            ГДЕ
                Наименование В (
                    ВЫБРАТЬ
                        Клиент.Наименование
                    ИЗ
                        Документ.ЗаказКлиента
                    ГДЕ
                        МЕСЯЦ(Дата) = 1 ИЛИ
                        МЕСЯЦ(Дата) = 3
                )
            </b></span>
        </pre>
    </div>
    <p>Второй способ:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ РАЗЛИЧНЫЕ
                Клиент.Наименование
            ИЗ
                Документ.ЗаказКлиента
            ГДЕ
                МЕСЯЦ(Дата) = 1 ИЛИ
                МЕСЯЦ(Дата) = 3
            </b></span>
        </pre>
    </div>
    <p>Третий способ:</p>
    <div class="code-style">
        <pre>
            <span class="vue-b"><b>ВЫБРАТЬ
                Клиент.Наименование
            ИЗ
                Документ.ЗаказКлиента
            ГДЕ
                МЕСЯЦ(Дата) = 1 ИЛИ
                МЕСЯЦ(Дата) = 3
            СГРУППИРОВАТЬ ПО
                Клиент
            </b></span>
        </pre>
    </div>












    <h3 class="header-style" id="9">Функции и операторы для работы с типами(ТИПЗНАЧЕНИЯ, ТИП, ССЫЛКА, ЕСТЬNULL, ВЫРАЗИТЬ)</h3>
    <p>Давайте вспомним, что каждый реквизит(свойство, поле) справочника, документа или любого другого прикладного объекта имеет свой тип. Этот тип можно посмотреть в конфигураторе. В языке запросов есть целый класс функций и операторов для работы с типами реквизитов.</p>
    <p><b>Функция ТИПЗНАЧЕНИЯ</b></p>
    







    




</div>