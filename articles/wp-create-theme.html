<div class="wrap">
  
      <ol class="list">
         <li><a href="#1">get_header()</a></li>
         <li><a href="#2">get_footer()</a></li>
          <li><a href="#3">get_template_directory_uri()</a></li>
          <li><a href="#4">add_action()</a></li>
          <li><a href="#5">wp_enqueue_style()</a></li>
      </ol>
   
   
    <h2 class="header-style">Создаём тему для вордпресс</h2>
    <p>Папка с темами находится по пути - D:\OpenServer\OSPanel\domains\wordpress.local\www\wp-content\themes. Если зайти в эту папку то увидим там 3 стандартные темы - 3 папки.</p>
    <p>Чтобы создать свою тему мы создадим для начала в папке themes свою папку и назовём её как захотим, в нашем примере назовём её sparrow по названию шаблона(верстка сайта), который мы скачали в интернете.</p>
    <p>Итак создаём папку с названием sparrow и перейдём в консоль вордпресса и обновим страницу, внизу под стандартными темами увидем появилось предупреждение, я обвёл его красной рамкой:</p>
    <img src="/site-shpora/img/15.jpg" alt="" class="screen">
    <p>Видно что написано название темы и описание чего не хватает в теме, в данный момент вордпрес просит файл стилей. Поэтому идём в папку sparrow и там создадим файл стилей - <b>style.css</b> . Но мало содать этот файл ещё нужно зайти в этот файл и поставить там коментарии с пояснениями, вот например такой коментарий у стандартной темы: </p>
    <img src="/site-shpora/img/16.jpg" alt="" class="screen">
    <p>Нас пока интересует первая строчка в этом пояснении. Пишем в нашем файле стилей такое пояснение:</p>
    <img src="/site-shpora/img/17.jpg" alt="" class="screen">
    <p>Если тема у нас на продажу, то пояснения нужно все писать, которые есть в этом коментарии.</p>
    <p>Теперь возвращаемся обратно в консоль и обновим страницу и теперь вордпресс ругается что не найден шаблон в нашей теме:</p>
    <img src="/site-shpora/img/18.jpg" alt="" class="screen">
    <p>Идём в папку с нашей темой и создадим в ней файл <b>index.php</b> . Даже пустой файл index.php уже даст нам возвожность увидеть нашу тему в консоле вордпресса:</p>
    <img src="/site-shpora/img/19.jpg" alt="" class="screen">
    <p>Как видно на картинке у нашей темы нет скриншота как у остальных тем. Если посмотреть в стандартных темах файлы, то мы там увидем файл <b>screenshot.png</b>. Этот файл должен быть размером 1200х900. Давайте в фотошопе создадим скриншот для нашей темы. Для этого можно открыть в браузере наш скачанный шаблон и сделать скрин понравившейся области и сделать из него картинку в фотошопе. Сделал, сохранил эту картинку в папку с нашей темой, идём в консоль вордпресса и обновим, теперь видно нашу картинку в нашей теме:</p>
    <img src="/site-shpora/img/20.jpg" alt="" class="screen">
    <p>Всё у ас теперь готова тема и если мы активируем нашу тему и перейдём к просмотру сайта с нашей темой, то страница будет пуста как и должно быть. Чтобы проверить что всё правильно, можно в файле index.php написать что нибудь, сохранить и у нас на сайте должна отобразиться наша писанина.</p>
    
    
    <h3 class="header-style2">Фреймворк для создания темы</h3>
    <p>Выше и дальше мы сами создаём все файлы с нуля и помещаем их в папку с темой, но делать это каждый раз самому очень затратоно по времени, поэтому для этих целей существует инструмент, который сам создаёт всю структуру файлов в теме. Этот инструмент называется <b>underscores</b>. Вот его <a href="https://underscores.me/">сайт</a>. Там в поле(Theme Name) просто пишем название нашей темы и жмём кнопку Generate. Сразу начнётся скачивать архив к нам на компьютер. Всё, мы можем распоковать этот архив и поместить папку с темой в темы вордпреса. </p>
    
    
    <h3 class="header-style2">Иерархия файлов темы</h3>
    <p>Чтобы разобраться с иерархией файлов в теме, можно почитать <a href="https://wp-kama.ru/id_7654/ierarhiya-fajlov-temy-shablona.html">тут</a>. Смысл этой иерархии заключается в том, если мы напишем в строке запроса, например http://wordpress.local/www/sasha, и если нету соответсвующего шаблона для запроса sasha, то отобразится в итоге всё равно главная страница index.php. Чтобы могли отображаться какие нибудь ошибки, создадим в папке с нашей темой файл 404.php и напишем в нём - "Ошибка! Такой станицы не существует". И теперь при вызове запроса  http://wordpress.local/www/sasha выведется уже не index.php, а 404.php, потому что такого файла - sasha.php нет, и идёт проверка а есть ли файл 404.php и если есть то выводится он, если нет выводится index.php. Так со всеми файлами, если какого то файла нет физически, то заглушкой в конце всё равно будет index.php.</p>
    
    
    <h3 class="header-style2">Дальше поработаем с файлом index.php. Подключаем стили и скрипты.</h3>
    <p>У нас index.php пустой, поэтому идём в наш скачанный шаблон sparrow, находим в нём файл index.html и копируем с него всё в файл index.php в нашей теме. Идём и смотрим на сайт в вордпрессе что выдаёт стартовый шаблон index.php, а выдаёт он нам чисто структуру html, потому что не подключенны стили и скрипты.</p>
    <p>Прежде чем продолжить дальше нужно упамянуть о таких вещах как <b>функции ворпресса</b>, их мы будем часто использовать. Например такие функции как <span class="tag-style" id="1">get_header()</span>, <span class="tag-style" id="2">get_footer()</span> и как они связанны с файлами header.php  и footer.php. Эти функции подставляют в шаблон соответсвующие шаблоны, например функция get_header() подставляет стандартный файл header.php, а функция get_footer() соответсвенно footer.php. Давайте посмотрим как это работает, очистим файл index.php и напишем в нём всего 2 строчки:</p>
    <img src="/site-shpora/img/21.jpg" alt="" class="screen">
    <p>Сохраним и обновим сайт в вордпрессе и увидим, что вордпресс вместо этих функций подставил свои стандарные шапку и подвал:</p>
    <img src="/site-shpora/img/22.jpg" alt="" class="screen">
    <p>Почему ворпресс подставил свои стандартные файлы? Потому что у нас в папке с темой нет пока своих файлов header.php и footer.php. Поэтому идём и создаём header.php и footer.php в папку с темой. Затем в скачанной верстке зайдём в файл index.html и вырежем оттуда то что мы считаем пойдёт в header.php, также вырежем то что пойдёт в footer.php ну и остальное в index.php между php тегами с функциями get_header() и get_footer().</p>
    <p>Далее чтобы заработали наши стили и скрипты создадим в папке с темой папку с названием <b>assets</b> и копируем в неё папки(js, css, images, inq) из скачанной верстки. Теперь в файле header.php нужно прописать пути в нашим стилям и скриптам. Чтобы стили заработали нужно всегда указывать абсолюный путь до стилей, вот так сейчас выглядят пути от верстальщика:</p>
    <img src="/site-shpora/img/23.jpg" alt="" class="screen">
    <p>Нам же надо прописать туда абсолютные пути до наших файлов, вот такие пути пишем:</p>
    <img src="/site-shpora/img/24.jpg" alt="" class="screen">
    <p>Стили заработали, но в таком виде мы не можем писать пути, потому что сайт может перенестись с нашего локального хоста куда нибудь ещё и путь будет уже не верным. Для этого в вордпресс есть спец функция <span class="tag-style" id="3">get_template_directory_uri()</span>, которая за нас будет высчитывать путь до нашей темы. Для проверки мы напишем после тега боди php вставку:</p>
    <img src="/site-shpora/img/25.jpg" alt="" class="screen">
    <p>Этот код выведет в браузере вот такую строку:</p>
    <p><b>http://wordpress.local/www/wp-content/themes/sparrow</b></p>
    <p>Эта функция как раз выдала путь до нашей активной темы. Теперь мы просто вставляем этот кусок кода в пути, вот так:</p>
    <img src="/site-shpora/img/26.jpg" alt="" class="screen">
    <p>Но так в вордпрессе скрипты и стили тоже не подключаются. Для правильного подключения нужно использовать файл <b>functions.php</b>, для этого удалим из вёрстки эти 3 строки с подключениями стилей:</p>
    <img src="/site-shpora/img/27.jpg" alt="" class="screen">
    <p>И создадим в нашей теме файл functions.php. Этот файл будет задавать все настройки нашей темы. Этот файл будет говорить вордпрессу какие стили подключать, какие скрипты подключать, как правильно фильтровать информацию на сайте и т.д. Но чтобы приступить к написанию функций в файле functions.php нужно понять что такое <b>хуки вордпресса</b>. Хуки переводится как крючок. Например когда вордпресс выводит сайт, то он выполняет определёные действия(события): 1. выводит на экран шапку, 2. подключает стили и скрипты, 3. выводит содержимое страницы, 4. выводит подвал сайта. Это не все действия, которые вордпресс выполняет. Мы можем подцепиться к любому из этих событий. Например когда вордпресс выполняет 2 событие, то мы можем подцепиться к этому событию и сказать вордпрессу чтобы он вместе со своими стандартными стилями и скриптами  вывел и наши. Мы как бы вклиниваемся в процесс и заставляем вордпресс сделать то что нам надо, а потом процесс продолжается.</p>
    <p>Хуки бывают <b>action(действия)</b> и <b>filters(фильтры)</b></p>
    <img src="/site-shpora/img/28.jpg" alt="" class="screen">
    <p>Итак начнём подцепляться к событиям. Мы хотим чтобы вордпресс вывел наши стили. Здесь будет задействован хук-действие, поэтому в файле function.php пишем функцию <span class="tag-style" id="4">add_action()</span>, которая обозначает добавить действие. У этого метода есть 4 аргумента, рассмотрим пока 2. Первый аргумент говорит нам к какому событию нужно подключится, второй аргумент - какое наше действие нужно выполнить при наступлении события. Хук-событие, когда выводятся стили и скрипты называется - <b>wp_enqueue_scripts</b>. И всё вместе пишется так:</p>
    <p><b>add_action('wp_enqueue_scripts', 'style_theme')</b></p>
    <p>style-theme - это мы сами назвали свою функцию, которая выполнится при наступлении события.</p>
    <p>Но хук wp_enqueue_scripts наступит тогда когда мы в секции head нашей вёрстки напишем другой хук, для этого идём в header.php и пишем такой код:</p>
    <img src="/site-shpora/img/29.jpg" alt="" class="screen">
    <p>Теперь в нашей функции style-theme нужно как то подключить стили, для этого есть вордпресс функция <span class="tag-style" id="5">wp_enqueue_style()</span>. В этой функции 5 параметров: 1й - название нашего файла со стилями(можно назвать как угодно), 2й - где лежит файл стилей, 3й - зависимость нашего файла стилей от других файлов стилей, 4й - версия, 5й - медиа-запрос. Все эти функции смотрим на сайте wp-kama, там все параметры расписаны.</p>
    <p>Итак пишем вот так:</p>
    <img src="/site-shpora/img/30.jpg" alt="" class="screen">
    <p>Идём на сайт, обновляем и смотрим что стили default.css подключились. Но нам нужно обязательно подключить главный файл стилей style.css, который находится прям в самой папке с темой. Далется это так:</p>
    <p><b>wp_enqueue_style('style', get_stylesheet_uri());</b></p>
    <p>Дописываем эту строчку-код в нашу функцию style-theme.</p>
    <img src="/site-shpora/img/31.jpg" alt="" class="screen">
    <p>А вот так будет уже выглядеть подключение в dom дереве:</p>
    <img src="/site-shpora/img/32.jpg" alt="" class="screen">
    <p>Подключаем остальные стили:</p>
    <img src="/site-shpora/img/33.jpg" alt="" class="screen">
    <p>Далее нам надо подключить скрипты. в основном скрипты лежат в footer.php, и тут всё как со стилями, только в footer.php перед закрывающимся тегом body мы прописываем хук:</p>
    <img src="/site-shpora/img/34.jpg" alt="" class="screen">
    <p>Удаляем по аналогии со стилями все подключения скриптов. Потом подключаемся к этому хуку вот так и пишем свою функцию для подключения скриптов:</p>
    <img src="/site-shpora/img/35.jpg" alt="" class="screen">
    <p>Обратим внимание как подключается jquery. На картинке выше в зеленой строке закоментированно как я думал можно подключить jquery по аналогии с другими скриптами, но он в таком виде не подключит jquery такой версии, а подключит стандартный вордпрессовский джейквери, из за этого может кое что не работать. Поэтому нужно подключить так как показанно на строках 15, 16, 17. Также в wp-kama сказанно что при таком подключении jquery как на этих 3 строках, подключится и jquery-migrate, но почему то у меня не подключился. Поэтому по аналогии с другими скриптами подключил его так как показано на строке 19. Хотя в моей теме и лежит такой файл в папке js, но вордпресс всё равно подключает свой стандартный jquery-migrate из папки wp-includes.</p>
    <p>На этом можно пока закончить описание подключения стилей и скриптов.</p>
    
    
  
    
    
    
    <h3 class="header-style2">Регистрация записи(записей)</h3>
    <p>С 00:54:30 начинается рассказ про то как регистрировать записи вопрос-ответ, для слайдера</p>
    <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/1_g6V46bEvY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
    
    <h3 class="header-style2">Регистрация формы</h3>
    <p>С 01:44:10 начинается рассказ про то как регистрировать формы</p>
    <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/1_g6V46bEvY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
