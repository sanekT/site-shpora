<div class="wrap">
   
    <h2 class="header-style">Шпора по книге Хрусталёвой "Пособие разработчика"</h2>


    <ul class="list">
        <li><a href="#1">1. </a></li>
        <li><a href="#2">2. </a></li>
        <li><a href="#3">3. </a></li>
        <li><a href="#4">4. Документы </a></li>
        <li><a href="#5">5. Теоретическое</a></li>
        <li><a href="#6">6. Регистры накопления</a></li>
        <li><a href="#7">7. Простой отчёт</a></li>
        <li><a href="#8">8. Макеты. Редактирование макетов</a></li>
        <li><a href="#9">9. Периодические регистры сведений</a></li>
        <li><a href="#10">10. Перечисления</a></li>
        <li><a href="#11">11. Проведение документа по нескольким регистрам</a></li>
        <li><a href="#12">12. Оборотные регистры накопления</a></li>
        <li><a href="#1">1. </a></li>
        <li><a href="#1">1. </a></li>
    </ul>



    <h3 class="header-style2" id="4">Документы</h2>
    <p><b>Документ</b> - это объект конфигурации, который предназначен для описания информации о совершенных хозяйственных операциях или о событиях, произошедших в жизни организации вообще.</p>
    <p>Документ обладает способностью проведения. Факт проведения документа означает, что событие, которое он отражает, повлияло на состояние учета. Также документ имеет дату, которая фиксирует документ на оси времени. И ещё документ имеет механизм отслеживания правильности состояния учёта. Представлен в дереве конфигурации объектом Последовательности.</p>
    <p>У документа есть стандартные реквизиты и наиболее важные из них 2 - это Дата и Номер.</p>
    <p>У документа так же как и у справочника есть подчинённые объекты конфигурации - реквизиты и табличная часть. В отличии от справочника у документа есть вкладка Нумерация, где мы можем включить уникальность номеров.</p>
    <p>Реквизиты нужны для подробного описания документа, а табличные части для описания однородных данных, но разных по количеству.</p>
    <p>У документа есть 3 основных формы - форма документа, форма списка и форма выбора.</p>







    <h3 class="header-style2" id="5">Теоретическое</h2>
    <p><b>1</b>. Про механизм основных форм. Идёт рассказ про то, что у объектов конфигурации есть по несколько основных форм. Если разраб не назначил свою форму основной, то система по умолчанию создаёт свою.</p>
    <p>Форма создаётся на сервере тогда. когда происходит обращение к ней, причём неважно, интерактивное это обращнеи или программное.</p>
    <p><b>2</b>. Про обработчики событий. Следует различать два типа событий: события, связанные с формой и ее элементами, и все остальные. Разница заключается в том, что обработчики событий, связанных с формой и ее элементами, – назначаемые, а обработчики всех остальных событий – фиксированные.</p>
    <p>Назначение обработчика может выполняться интерактивно, при работе с формой в конфигураторе, или программно, используя методы формы и ее элементов – УстановитьДействие().</p>
    <p><b>3</b>. Про модули. </p>
    <p>Модуль управляемого приложения. Модуль выполняется при начале и при конце работы системы. В нём можно объявить переменную, приписать ей Экспорт и она станет доступна из любого другого модуля. Их доступность также обеспечивается для неглобальных общих модулей с установленным свойством Клиент. В контексте модуля управляемого приложения доступны экспортируемые процедуры и функции общих модулей.</p>
    <p>Общие модули. В общих модулях хранятся процедуры и функции, которые вызываются из других модулей системы. Сам по себе общий модуль не исполняется. Исполняются отдельные его процедуры/функции в момент их вызова из других модулей.</p>
    <p>Модули объектов. Эти модули вызываются тогда, когда программно создается этот объект средствами встроенного языка, например, методами СоздатьЭлемент() менеджеров справочников или СоздатьДокумент() менеджеров документов, либо когда пользователь создает новый элемент справочника или документ интерактивно.</p>
    <p>Модули форм. Этот модуль исполняется при создании объекта ФормаКлиентскогоПриложения встроенного языка. Этот объект создается системой в режиме 1С:Предприятие в тот момент, когда мы программно (методом ОткрытьФорму()) или интерактивно открываем форму некоторого элемента.</p>
    <p>Модуль сеанса. Модулем сеанса называется модуль, который автоматически выполняется при старте системы «1С:Предприятие» в момент загрузки конфигурации. Модуль сеанса предназначен для инициализации параметров сеанса и отработки действий, связанных с сеансом работы. Модуль сеанса не содержит экспортируемых процедур и функций и может использовать процедуры из общих модулей конфигурации.</p>
    <p>Модуль внешнего соединения предназначен для размещения в нем текстов функций и процедур, которые могут вызываться в сессии внешнего соединения.</p>
    <p>Модуль менеджера. Для каждого прикладного объекта существует менеджер, предназначенный для управления этим объектом как объектом конфигурации. С помощью менеджера можно создавать объекты, работать с формами и макетами. Модуль менеджера позволяет расширить функциональность менеджеров, предоставляемых системой, за счет написания процедур и функций на встроенном языке. Фактически это позволяет описать собственные методы для объекта конфигурации (например, справочника), которые относятся не к конкретному экземпляру объекта базы данных, а к самому объекту конфигурации. Например, в модуле менеджера можно задать произвольное представление объекта в интерфейсе «1С:Предприятия».</p>
    <p>Модуль команды. Как в самой конфигурации, так и у многих прикладных объектов, могут существовать подчиненные объекты конфигурации – Команды. У каждой команды существует модуль команды, в котором можно написать предопределенную процедуру ОбработкаКоманды() для выполнения этой команды.</p>
    <p><b>4</b>. Про контекст модуля формы.</p>
    <p>Каждый модуль связан с остальной частью конфигурации. Эта связь называется контекстом модуля. Контекст модуля определяет набор доступных во время выполнения модуля объектов, переменных, процедур и функций. Рассмотрим подробнее, из чего складывается контекст модуля формы:</p>
    <ul class="list">
        <li>локальным контекстом самого модуля формы;</li>
        <li>реквизитами формы, которой «принадлежит» модуль;</li>
        <li>свойствами и методами объекта ФормаКлиентскогоПриложения встроенного
            языка;</li>
        <li>свойствами и методами расширения формы, определяемого типом
            того объекта, данные которого содержатся в основном реквизите
            формы;</li>
        <li>глобальным контекстом, в том числе неглобальными общими
            модулями и экспортируемыми функциями и процедурами глобальных общих модулей;</li>
        <li>экспортируемыми переменными, процедурами и функциями
            модуля управляемого приложения.</li>
    </ul>
    <p>Про все пункты не буду расписывать. Единственное что хотел бы отметить, это про неглобальные и глобальные общие модули. Допустим если есть глобальный общий модуль и в нём экспортная функция, то вызвать её, например, из модуля формы можно просто сразу вызвав эту функцию. А вот если функция описана в неглобальном общем модуле, то вызов её осуществляется через написание имени общего модуля, а затем имя функции. Второй способ предпочтительней, т.к. глобальный общий модуль выполняестя сразу после запуска системы, а неглобальные запускаются на выполнение по мере их вызова.</p>
    <p><b>5</b>. Форма как программный объект.</p>
    <p>Помимо того что форма внутри своего модуля предоставляет доступ к различным частям конфигурации, она также доступна из других частей конфигурации как программный объект. При этом помимо стандартных свойств и методов объекта встроенного языка ФормаКлиентскогоПриложения у нее могут существовать и другие свойства и методы, определенные разработчиком. Только нужно не забывать про слово Экспорт у процедуры, которую хотим вызвать у программного объекта ФормаКлиентскогоПриложения</p>
    <div class="code-style">
        <pre>
            //модуль формы документа ПриходнаяНакладная
            &НаКлиенте
            Процедура МатериалыКоличествоПриИзменении(Элемент)
                СтрокаТабличнойЧасти = Элементы.Материалы.ТекущиеДанные;
                РаботаСДокументами.РассчитатьСумму(СтрокаТабличнойЧасти);
            КонецПроцедуры

            //где в другом модуле
            Форма = ПолучитьФорму("Документ.ПриходнаяНакладная.Форма.ФормаДокумента");
            Форма.МатериалыКоличествоПриИзменении();
        </pre>
    </div>
    <p><b>6</b>. <b>7</b>. <b>8</b>. Далее идёт объёмное описание процедур-обработчиков событий формы, как и где искать то что онаписано в коде. Также как пользоваться отладчиком кода, что такое окно выражений, табло и так далее.</p>
    <p><b>9</b>. Объекты, объекты, объекты....</p>
    <p>Как правило, термин объект употребляется в одном из трех контекстов:</p>
    <ul class="list">
        <li>конфигурация,</li>
        <li>база данных,</li>
        <li>встроенный язык.</li>
    </ul>
    <p>Говоря объект конфигурации мы обозначаем некоторую совокупность описания данных и алгоритмов работы с этими данными. На основании каждого объекта конфигурации в базе данных создается информационная структура(таблица), в которой будут храниться данные.</p>
    <p>Когда мы говорим о базе данных, термином «объект» мы обозначаем всего лишь некий элемент такой информационной структуры. Характерной особенностью такого элемента является то, что на него (как на совокупность данных) существует ссылка.</p>
    <p>Если же мы начинаем говорить о встроенном языке и о том, каким образом средствами встроенного языка работать со справочниками, то термином «объект» мы обозначаем тип данных, позволяющий получить доступ к данным и обладающий набором свойств и методов. Существует целый ряд объектов встроенного языка, позволяющих работать со справочниками (СправочникиМенеджер, СправочникМенеджер.&lt;имя>, СправочникСсылка.&lt;имя> и т.д.). Среди них есть один объект, который предоставляет доступ к объекту справочника в базе данных, – СправочникОбъект.&lt;имя> </p>
    <p><b>9</b>. Сервер и клиенты</p>
    <p>Система «1С:Предприятие» поддерживает два варианта работы системы: файловый и клиент-серверный.</p>
    <p>Основное назначение файлового варианта – быстро и легко установить систему и работать с ней.  В файловом варианте тоже можно вести реальную учетную работу, но при этом нужно понимать, что он не предоставляет абсолютно всех тех же возможностей по масштабируемости, защите данных, какие имеет клиент-серверный вариант.</p>
    <p>Клиент-серверный вариант предназначен для использования в рабочих группах или в масштабе предприятия. Он реализован на основе трехуровневой архитектуры «клиент-сервер». Клиентское приложение - Кластер серверов 1С - Сервер БД - БД. Главное, что пользователь не имеет непосредственного доступа к серверу баз данных, и это позволяет обеспечивать безопасность данных.</p>
    <p><b>10</b>. Компиляция общих модулей</p>
    <p>У общего модуля существует набор свойств: Клиент (управляемое приложение), Сервер и Внешнее соединение. Значения этих свойств (истина/ложь) определяют, где будут скомпилированы экземпляры этих модулей.</p>
    <p>В общем модуле РаботаСДокументами мы установили свойство Клиент (управляемое приложение). Это значит, что экземпляры этого модуля будут скомпилированы только на стороне клиента в контекстах тонкого клиента и веб-клиента.</p>
    <p>Тонкий клиент – это файл 1cv8c.exe. Именно его запускает платформа автоматически, когда мы начинаем отладку. Веб-клиент не существует в виде файла, потому что он исполняется не в среде операционной системы, а в среде интернет-браузера.</p>
    <p><b>10</b>. Директивы компиляции</p>
    <p>не буду описывать, понятно вроде.</p>






    <h3 class="header-style2" id="6">Регистры накопления</h2>
    <p>Регистры накопления учавствуют в создании механизма учёта накопления данных. Эти данные будут храниться в таблицах в виде отдельных записей, каждая из которых имеет одинаковую заданную в конфигураторе структуру. </p>
    <p>На основании таблицы движений регистра накопления система рассчитывает таблицу итогов регистра, которая хранит в базе данных итоги на момент времени последнего движения (актуальные итоги).</p>
    <p>Без создания регистра мы могли бы создать отчёты по документам, но представим, что в один прекрасный миг у нас появляется ещё один документ или несколько, придётся менять все отчёты. Но с регистрами нам не страшны добавления новых документов, всё равно все данные стекаются в конечную - в регистры и по ним уже строятся отчёты.</p>
    <p>К тому же отчёты строящиеся по документам будут работать медленее. Поэтому регистры созданы так, чтобы по ним было удобно собирать данные и предоставлять их пользователю.</p>
    <p>Отличительной особенностью регистра накопления является то, что он не предназначен для интерактивного редактирования пользователем. Изменять его предполагается на основе алгоритмов работы других объектов базы данных.</p>
    <p>Основным назначением регистра накопления является накопление числовой информации в разрезе нескольких измерений. Виды числовой информации, накапливаемой регистром накопления, называются ресурсами, также являются подчиненными объектами и описываются в конфигураторе. </p>
    <p>Изменение состояния регистра накопления происходит, как правило, при проведении документа и заключается в том, что в регистр добавляется некоторое количество записей. Каждая запись содержит значения измерений, значения приращений ресурсов, ссылку на документ, который вызвал эти изменения (регистратор), и «направление» приращения (приход или расход). Такой набор записей называется движениями регистра накопления. Каждому движению регистра накопления всегда должен соответствовать регистратор – объект информационной базы (как правило, документ), который произвел эти движения. </p>
    <p>Кроме этого, регистр накопления может хранить дополнительную информацию, описывающую каждое движение. Набор такой дополнительной информации задается разработчиком при помощи реквизитов объекта конфигурации Регистр накопления.</p>
    <p>Если документ является регистратором для регистра накопления,  то в форме документа в левой части окна редактора формы на закладке "Командный интерфейс" в пункте "Перейти" появится название этого регистра, мы можем сделать его видимым и тогда в форме документа в панели навигации появится ссылка для перехода в регистр накопления с записями этого документа.</p>
    <p>По книге мы сделали движения в созданный регистр накопления из документов "ПриходнаяНакладная" и "ОказаниеУслуги".</p>
    <p>В ходе создания движений по регистрам мы познакомились с коллекцией(табличная часть ПереченьНоменклатуры). Далее описание как в коде перебирать такие коллекции и как обратится к конкретному объекту коллекции через точку или квадратные скобки.</p>










    <h3 class="header-style2" id="7">Простой отчет</h2>
    <p>Объект конфигурации Отчет предназначен для описания алгоритмов, при помощи которых пользователь сможет получать необходимые ему выходные данные. Алгоритм формирования выходных данных описывается при помощи визуальных средств или с использованием встроенного языка. В реальной жизни объектам конфигурации Отчет соответствуют всевозможные таблицы выходных данных, сводных данных, диаграммы и пр.</p>
    <p>Далее идёт построение самого простого отчёта, описывать его нет смысла.</p>









    <h3 class="header-style2" id="8">Макеты. Редактирование макетов</h2>
    <p>Объект конфигурации Макет предназначен для хранения различных форм представления данных, которые могут потребоваться какимлибо объектам конфигурации или всему прикладному решению в целом.</p>
    <p>Макет может содержать табличный или текстовый документ, двоичные данные, HTML-документ или Active Document, графическую или географическую схему, схему компоновки данных или макет оформления схемы компоновки данных. </p>
    <p>Макеты могут существовать как сами по себе (общие макеты), так и быть подчинены какому-либо объекту конфигурации.</p>
    <p>Одно из предназначений макета, подчиненного объекту конфигурации и содержащего табличный документ, – создание печатной формы этого объекта. Создание печатной формы заключается в конструировании ее составных частей – именованных областей, из которых затем «собирается» готовая печатная форма.</p>
    <p>Далее мы через конструктор печати добавим кнопку Печать в документ ОказаниеУслуги и код, который выведет табличный документ с данными этого документа.</p>







    <h3 class="header-style2" id="9">Периодические регистры сведений</h2>
    <p>Нам нужно хранить для каждой услуги цену, но не просто последнюю цену, а чтобы мы могли хранить цены для услуги во времени. Тут нам поможет преиодический регистр сведений. Зачем нужно хранить цены во времени? Руководство может захотеть посмотреть как менялась прибыль от изменения цены на услугу.</p>
    <p>Объект конфигурации Регистр cведений предназначен для описания структуры хранения данных в разрезе нескольких измерений. На основе объекта конфигурации Регистр сведений платформа создает в базе данных таблицу, в которой может храниться произвольная информация, «привязанная» к набору измерений</p>
    <p>Принципиальное <b>отличие</b> регистра сведений от регистра накопления заключается в том, что каждое движение регистра сведений устанавливает новое значение ресурса, в то время как движение регистра накопления изменяет существующее значение ресурса. По этой причине регистр сведений может хранить любые данные (а не только числовые, как регистр накопления). </p>
    <p>Следующей важной особенностью регистра сведений является его способность (при необходимости) хранить данные с привязкой ко времени. Благодаря этому регистр сведений может хранить не только актуальные значения данных, но и историю их изменения во времени. Регистр сведений, использующий привязку ко времени, называют периодическим регистром сведений. </p>
    <p>Как и для других регистров, система контролирует уникальность записей для регистра сведений. Однако если для прочих регистров уникальным идентификатором записи является регистратор и номер строки, то для регистра сведений применяется другой принцип формирования ключевого значения.</p>
    <p>Ключом записи, однозначно идентифицирующим запись, является в данном случае совокупность значений измерений регистра и периода (в случае, если регистр сведений периодический). Например, для периодического регистра сведений с измерением Товар и ресурсом Цена ключом записи будет набор значений полей Период и Товар. Регистр сведений не может содержать несколько записей с одинаковыми ключами.</p>
    <p>Если продолжать сравнение с регистром накопления, то можно сказать, что регистр сведений предоставляет больше свободы в редактировании хранимых данных. Наряду с возможностью использования в режиме подчинения регистратору (когда записи регистра сведений «привязаны» к документу-регистратору) регистр сведений может применяться и в независимом режиме, в котором пользователю предоставляется полная свобода интерактивной работы с данными регистра. Регистр сведений, не использующий подчинение регистратору, называют независимым регистром сведений.</p>
    <p>Далее мы создаём регистр.</p>








    <h3 class="header-style2" id="10">Перечисления</h2>
    <p>Объект конфигурации Перечисление предназначен для описания структуры хранения постоянных наборов значений, не изменяемых в процессе работы конфигурации. На основе объекта конфигурации Перечисление платформа создает в базе данных таблицу, в которой может храниться набор некоторых постоянных значений. Значения перечисления не «обезличены» для конфигурации, на них могут опираться алгоритмы работы программы.</p>
    <p>Далее мы в модуле менеджера в событиях создаём своё представление номенклатуры, чтобы у нас в итоге номенклатура была с припиской - материал или услуга.</p>








    <h3 class="header-style2" id="11">Проведение документа по нескольким регистрам</h2>
    <p>Идёт рассказ, что нужно добавить ещё один регистр накопления, который учитывает себестоимость материалов. Проводим приходную накладную по 2м регистрам и документ ОказаниеУслуги.</p>
    <p>В данном случае на вопрос, для чего нам понадобилось создавать 2й регистр и проводить по нему 2 документа, можно ответить так - нам нужно учитывать не только количество товаров, но и их стоимость, чтобы знать на какую сумму у нас материалов на складе.</p>








    <h3 class="header-style2" id="12">Оборотные регистры накопления</h2>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>☻

</div>
