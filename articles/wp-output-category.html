<div class="wrap">
   
    <h2 class="header-style">Динамический вывод категорий</h2>
    <p>Адрес страницы articles/wp-output-category.html</p>
   
    <h3 class="header-style2">Вывод категорий</h3>
    <p class="note">Если хочу убрать категорию "Без рубрики" из списка категорий, то вот ответ из сообщения под видео - Стандартная рубрика "без рубрики" не удаляется потому что она стоит как основная, а основную рубрику удалить нельзя. Чтобы ее удалить надо назначить любую другую как основная, Настройки => Написание => Основная рубрика. Ну или просто можно переименовать её под ту какая мне нужна.Есть и 3й вариант это в функции wp_list_categories() в её массиве  аргументов есть свойство exclude, и вот этому свойству зададим id той рубрики, которую не хотим выводить.</p>
    <p>Итак у нас есть какие-нибудь категории в боковой панели на сайте:</p>
    <img src="/site-shpora/img/60.jpg" alt="" class="screen">
    <p>Надо их выводить как то динамически. Для начала давайте в разделе Записи войдём в подменю Рубрика и там создадим все категории из вёрстки попутно давая им ярлыки на англ.яз. Получилось вот так:</p>
    <img src="/site-shpora/img/61.jpg" alt="" class="screen">
    <p>Далее чтобы вывести на страницу наши созданные в ВП категории нужно написать такую функцию <b>wp_list_categories()</b>, посмотреть о ней можно <a href="https://wp-kama.ru/function/wp_list_categories">тут</a>. В вёрстке удалим лишки из списка ul и внутрь напишем эту функцию с массивом аргументов:</p>
    <img src="/site-shpora/img/62.jpg" alt="" class="screen">
    <p>В результате на сайте у нас появится точно такой же список категорий как и был в вёрстке, только при клике на категорию мы будем переходить на страницу, куда будут выводится все записи в из категории. Но эту старницу ещё нужно будет создать.</p>
    <p class="note">Чтобы вывести пост(ы) из выбранной категории, надо создать страницу <b>category.php</b> и в ней уже организовать цикл по выводу постов из категории.</p>
    <p>Чтобы вывести рядом с постом имя выбранной категории, надо написать функцию:</p>
    <p><b>&lt;?php echo get_cat_name($cat_ID); ?&gt;</b></p>
    <p>ID категории надо писать обязательно. Или второй вариант:</p>
    <div class="code-style">
        <pre>
        //если мы на странце категории
        if(is_category()){
           $cat_name = get_queried_object()->name;
           echo $cat_name;
        }
        </pre>
    </div>
    <p>Второй вариант мне понравился больше, потому как не надо указывать ID категорий, а просто кликаем по катагориям и функция сама определяет и выводит имя.</p>
    <p>Точно таким же образом можно вывести и слаг выбранной категории:</p>
    <div class="code-style">
        <pre>
        //если мы на странце категории
        if(is_category()){
            $cat_name = get_queried_object()->name;
            $cat_slug = get_queried_object()->slug;
            echo $cat_name;
            echo $cat_slug;
        }
        </pre>
    </div>
    <p class="note">Далее чтобы вывести все записи из выбранной категории воспользуемся либо циклом ВП, либо функцией <b>get_posts</b></p>
    <p>Воспользуемся функцией get_posts():</p>
    <img src="/site-shpora/img/63.jpg" alt="" class="screen">
    <p>Tакже узнал что при использовании этой функции можно в цикл foreach поставить вот такую функцию - <b>setup_postdata($post)</b> и уже далее в цикле можно использовать вместо $post->post_title писать как и в обычном цикле просто the_title или the_content</p>
    <img src="/site-shpora/img/64.jpg" alt="" class="screen">
    <p>В ссылке в атрибуте href не забываем писать the_permalink(), который будет вести нас на страницу с одной полной записью.</p>
    <p class="note">Если в записи есть вёрстка с выводом динамически цены, то в этом случае нужно подключать плагином доп. поля для вывода цены.</p>
    
