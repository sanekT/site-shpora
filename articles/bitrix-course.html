<div class="wrap">
   
    <h2 class="header-style">Курс по 1с-битрикс. Описываю на примере вёрстки Coders</h2>
    
    
    <ul class="list">
        <li><a href="#1">Создаём папку local и файлы в ней</a></li>
        <li><a href="#2">Папка php_interface</a></li>
        <li><a href="#3">Папка .default</a></li>
        <li><a href="#4">Файлы header.php и footer.php</a></li>
        <li><a href="#5">Натягиваем меню. Компонент "bitrix:menu"</a></li>
        <li><a href="#6">Как включить отображение ошибок в битриксе</a></li>
        <li><a href="#7">Инфоблок. Создаём на примере слайдера на главной странице</a></li>
        <li><a href="#8">Инфоблок Слайдер на главной странице. Заполняем его элементами и подключаем компонент "bitrix: news.list" для их вывода</a></li>
        <li><a href="#9">Выводим разный фон у шапки на главной и у других страниц</a></li>
        <li><a href="#10">Компонент "bitrix: main.include". Включаемые области.</a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
        <li><a href="#1"></a></li>
    </ul>
    
    
    
    
    
    <h3 class="header-style2" id="1">Создаём папку local и файлы в ней</h3>
    <p>После установки битрикса оставим примерно вот такие файлы и папки. Чтобы начать натягивать вёрстку создадим папку <b>local</b>, а в local создадим папку <b>templates</b>. В templates будут хранится шаблоны нашего сайта.</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/1.png" alt="">
    <p>А вообще битрикс по умолчанию помещает шаблоны по пути /bitrix/templates, но с какой то версии была введена возможность создавать папку local и хранить в ней наш сайт.</p>
    <p>Тепрь создадим в local/templates папку с названием нашего сайта, например, main. И начнём добавлять в него файлы. Давайте первым файлом добавим <b>description.php</b>. Этот файл позволяет кратко описать наш шаблон сайта, для того чтобы потом в админке по этому описанию выбирать какой шаблон подключить:</p>
    <div class="code-style">
        <pre>
           &lt;?php
                $arTemplate = [
                    'NAME' => 'Основной шаблон Main',
                    'DESCRIPTION' => 'Описание шаблона Main ...'
                ];
            ?>
        </pre>
    </div>
    <p>Чтобы для сайта установить наш шаблон-вёрстку, пройдём в админку и по пути Настройки -> Настройки продукта -> Список сайтов откроется табличка со списком сайтов. У нас там будет один сайт с id - s1, жмём на него и в открывшихся настройках опускаемся вниз до настроки Шаблон сайта, и в вехней строке выберем наш шаблон из списка. Всё, мы подключили к сайту наш шаблон:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/2.png" alt="">
    <p>Далее создадим ещё 2 файла - <b>header.php</b> и <b>footer.php</b>, также нужно сюда же добавить скриншот нашего шаблона. <b>Скриншот дожен быть 800х600 и расширение .gif</b>. Вот что получилось:</p>
    <img class="screen-2" src="../img/Bitrix/3.png" alt="">
    
    
    <h3 class="header-style2" id="2">Папка php_interface</h3>
    <p>Эта папка есть в ядре bitrix. Я также добавил её в папку local как видно из картинки выше. В ней создал  файл init.php, этот файл выполнится до того как подгрузится наш сайт, а значит в этом файле можно задать какие нибудь свои пользовательские функции, константы, переменные, которые уже будут доступны в коде последующих загружаемых файлах. Вот что лежит пока в файле init.php:</p>
    <div class="code-style">
        <pre>
            &lt;?php

                use Bitrix\Iblock\IblockTable;
                use Bitrix\Main\Loader;

                //Определим свою константу, в которой будет лежать путь до папки .default
                define("DEFAULT_TEMPLATE_PATH", "/local/templates/.default");


                //Функция выводит красиво массивы
                 function debug($data){
                    echo '&lt;pre>';
                    var_dump($data, 1);
                    echo '&lt;/pre>';
                 }

                 //Функция получает id инфоблока по его символьному коду
                function getIblockIdByCode(string $code): int
                {
                    Loader::includeModule('iblock');

                    $iblock = IblockTable::getList([
                        'filter' => [
                            'CODE' => $code,
                        ],
                        'select' => [
                            'ID',
                            'CODE',
                        ],
                    ])->fetch();

                    if (!isset($iblock['ID'])) {
                        throw new Exception("Не найден инфоблок с кодом {$code}");
                    }

                    return (int) $iblock['ID'];
                }
        </pre>
    </div>
    
    
    
    <h3 class="header-style2" id="3">Папка .default</h3>
    <p>Для одного сайта могут использоваться несколько шаблонов. Например, на главной странице нет сайдбара, а на других есть, поэтому могут быть несколько папок с шаблонами, но стили для всех этих шаблонов одни и те же. Чтобы не копировать стили во все шаблоны, можно создать рядом с шаблонами папку .default и в неё сложить все наши стили, скрипты, картинки:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/4.png" alt="">
    <p>Видно что style.css лежит не в папке css, не обращаем внимания, так вёрстка сделална просто.</p>
    <p>Но теперь нельзя подключить наши скрипты и стили в файле header.php через константу SITE_TEMPLATE_PATH, для этого в init.php я создал свою константу DEFAULT_TEMPLATE_PATH, которая будет вести до папки .deafult, чтобы подключить скрипты и стили буду использовать её.</p>
    
    
    
    <h3 class="header-style2" id="4">Файлы header.php и footer.php</h3>
    <p>header.php и footer.php всегда подгружаются из шаблона сайта, а контент из файлов-страниц</p>
    <p>Теперь из вёрстки нужно вынести повторяющийся html код в header.php и в footer.php. Оставшийся код в index.html это и будет содержимым, которое будет менятся, его перемещаем в index.php и подключаем вверху header.php таким кодом:</p>
    <div class="code-style">
        <pre>
        require($_SERVER["DOCUMENT_ROOT"]."/bitrix/header.php");
        </pre>
    </div>
    <p>И footer.php таким же кодом:</p>
    <div class="code-style">
        <pre>
        require($_SERVER["DOCUMENT_ROOT"]."/bitrix/footer.php");
        </pre>
    </div>
    <img class="screen" src="/site-shpora/img/Bitrix/5.png" alt="">
    <div class="code-style">
        <pre>
            &lt;?php
            require($_SERVER["DOCUMENT_ROOT"]."/bitrix/footer.php");
            $APPLICATION->SetTitle("Главная");
            $APPLICATION->SetPageProperty("TITLE", "Digital-агентство WeCoders");
            $APPLICATION->SetPageProperty("keywords", "о нас, о компании, we coders, сайты");
            $APPLICATION->SetPageProperty("description", "о нашей компании");
            ?>
            
            &lt;p>Содержимое на главной&lt;/p>
            
            &lt;?php
            require($_SERVER["DOCUMENT_ROOT"]."/bitrix/footer.php");
            ?>
        </pre>
    </div>
    <p><b>header.php</b></p>
    <p>Подключим в файле header.php наши стили, скрипты, и остальные meta данные:</p>
    <div class="code-style">
        <pre>
            &lt;?php if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true) die(); ?>//защита от открывания этого файла отдельно от index.php
            &lt;?php 
               use Bitrix\main\Page\Asset;//подключили класс Asset
            ?>
            <!DOCTYPE html>
            &lt;html class="no-js" lang="en">
            &lt;head>

                &lt;title>&lt;?php $APPLICATION->ShowTitle(); ?>&lt;/title>

               &lt;link rel="shortcut icon" type="image/x-icon" href="<?php echo DEFAULT_TEMPLATE_PATH; ?>/img/favicon.png">

               &lt;?php 

                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/bootstrap.min.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/owl.carousel.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/animate-text.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/magnific-popup.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/et-line.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/pe-icon-7-stroke.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/shortcode/shortcodes.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/meanmenu.min.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/font-awesome.min.css');
                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/style.css');

                  Asset::getInstance()->addCss(DEFAULT_TEMPLATE_PATH . '/css/responsive.css');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/vendor/modernizr-2.8.3.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/vendor/jquery-1.12.0.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/bootstrap.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/owl.carousel.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/jquery.counterup.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/waypoints.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/jquery.magnific-popup.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/jquery.mixitup.min.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/jquery.meanmenu.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/jquery.nav.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/jquery.parallax-1.1.3.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/animate-text.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/plugins.js');
                  Asset::getInstance()->addJs(DEFAULT_TEMPLATE_PATH . '/js/main.js');
                  Asset::getInstance()->addString('<meta name="viewport" content="width=device-width, initial-scale=1">');
                  Asset::getInstance()->addString('<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">');
                  //если есть подключение шрифтов по CDN, то также через addString как и viewport помещаем весь тег link в скобки в этот метод.
               ?>
               
               &lt;?php $APPLICATION->ShowHead();//вернёт все мета теги нужные для сайта ?>

            &lt;/head>

            &lt;body>

               &lt;div id="panel">&lt;?php $APPLICATION->ShowPanel(); ?>&lt;/div>
        </pre>
    </div>
    <p>Также есть другой синтаксис подключения скриптов и стилей без помощи класса Asset, а с помощью объекта $APPLICATION:</p>
    <div class="code-style">
        <pre>
            &lt;?php
            $APPLICATION->SetAdditionalCSS(SITE_TEMPLATE_SITE . '/css/style.css');
            $APPLICATION->AddHeadScript(SITE_TEMPLATE_SITE . '/js/script.js');
            ?>
        </pre>
    </div>
    <p><b>footer.php</b></p>
    <p>В этом файле в принципе только html и защита.</p>
    
    
    
    
    
    <h3 class="header-style2" id="5">Натягиваем меню. Компонент "bitrix:menu"</h3>
    <p>По этой <a href="https://dev.1c-bitrix.ru/user_help/components/sluzhebnie/navigation/menu.php">ссылке</a> можно почитать про свойства настроечного массива при подключении компонента-меню.</p>
    <p>Итак начнём натягивать меню. Сначала проанализируем где у нас меню в вёрстке. Я натягиваю вёрстку Coders, в ней 2 меню, в шапке:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/6.png" alt="">
    <p>И в подвале:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/7.png" alt="">
    <p>Эти меню немного отличаются поэтому буду делать 2 разных меню. Идём в админку по пути <b>Настройки -> Настройки модулей -> Управление структурой</b> и пролистав немного вниз есть подраздел <b>Настройки для сайтов</b>, в нём в пункте Типы меню создадим 2 типа меню - top->Верхнее меню и bottom->Нижнее меню:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/8.png" alt="">
    <p>И жмём сохранить. Всё теперь идём в публичную часть сайта. Для того чтобы нам сделать меню выводимое битриксом нужно подключить компонент меню. Где взять этот компонент? Создадим тестовую страницу, для этого мжём на панели Создать страницу, в открывшемся окне обзовём её Тестовая страница, имя файла - test.php, уберём галочку Добавить в пункт меню и жмём Далее:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/9.png" alt="">
    <p>Затем ещё раз Далее и Готово. Откроется окно редактирования этой страницы, сотрём всё что там написанно и теперь нужно разместить компонент меню и настроить его. Для этого справа есть выдвигающееся меню компонентов, нужный нам лежит в Служебные -> Навигация -> Меню. Хватаем его мышкой и переносим влево в код и жмём по нему 2 раза, чтобы перейти к его настройке:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/10.png" alt="">
    <p>В открывшемся окне настроек первым пунктом стоит Шаблон компонента, это то место где лежит php код, который сгенерирует html нашего меню. По умолчанию он лежит в папке .defaul в ядре bitrix/components/bitrix/menu/templates/.default/template.php. Пока оставим этот шаблон по умолчанию. Потом мы его скопируем к себе в папку main и настроим под себя. Далее для пункта Тип меню первого уровня выберем ранее созданное название в админке Верхнее меню:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/11.png" alt="">
    <p>Пролистаем ниже и снимем галочку с Учитывать права доступа, так как у нас сайт без авторизации, то наше меню будет доступно для всех пользователей. Листаем дальше вниз и в Пункте Уровень вложенности меню поставим 2, так как у нас есть пункты в меню, которые имеют подменю. Пока остальное не меняем и жмём Сохранить и Сохранить. Мы находимся на странице test.php и пока не видим ничего. Начнём добавлять пункты для меню. Для этого жмём Создать раздел и в открывшемся окне вводим Заголовок раздела - Главная, имя папки на анг. пусть будет так как сам битрикс перевёл, галочки не снимаем и жмём Далее. Во 2м окне Имя нового Пункта - Главная, Тип меню - Верхнее меню, Вставить последним пунктом и опять Далее. В новом окне надо ввести свойства раздела, пока во всех пунктах вставим слово Главная и жмём Готово. нас перекинет скорее всего на созданный раздел, но в строке запроса вводим наш файл test.php и переходим на него и видим, что появился первый пункт меню Главная. Таким способом создадим все пункты меню и должно получиться такое:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/12.png" alt="">
    <p>В панели есть такая кнопка как Меню и нажав на неё откроется такое окно:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/13.png" alt="">
    <p>В этом окне можно изменять имена разделов, менять их местами, удалять.</p>
    <p>Есть другой путь создания меню. После того как я создал первый пункт меню Главная, то в структуре файлов и папок появился такой файл top.menu.php, в нём в виде массива описываются имена разделов и путь к этому разделу. Так вот можно заполнить этот файл нужными разделами с их путями и на странице test.php эти пункты меню отобразятся. Единственное, что они пока никуда не приведут, потому как в структуре файлов не созданны для них одноимённые папки с индексовым файлом внутри. Можно создать все эти папки и файл index.php внутри них. В файле index.php нужно будет подключить шапку и подвал и прописать некоторые свойства:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/14.png" alt="">
    <p>Продолжим по первому пути, где я создавал каждый раздел с помощью панели. Наше меню надо теперь как то привести к виду нашего меню из вёрстки. Для этого в панели включаем режим правки и наводим мышкой на наше меню, появятся спец инструменты для настройки меню, наведём мышкой на стрелочку , откроется подменю и как показано на картинке нажмём на Копировать шаблон компонента:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/15.png" alt="">
    <p>Откроется окно, где введём наше название компонента top_menu и поставим галочку сохранить его к нам в шаблон main, галочки ниже можно поснимать:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/16.png" alt="">
    <p>Как видно в структуре файлов в ашем шаблоне main появилась папка components, в ней и находится наш скопированный шаблон меню по пути components/bitrix/menu/top_menu/template.php. Для создания нашего меню нам пока нужен только файл template.php, остальные фалы и папки можно удалить:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/17.png" alt="">
    <p>Теперь нужно к нашему меню применить наш скопированный шаблон, для этого идём в публичную часть сайта и в режиме правки жмём на шестерёнку и в открывшемся окне выберем в пункте Шаблон компонента наш компонент top_menu:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/18.png" alt="">
    <p>Сохраним и видим что с меню слетели все стили, потому что я удалил все стили и др. файлы в нашем скопированном компоненте. И теперь надо в шаблоне template.php подставить наш html код меню из вёрстки в php код, который в цикле выводит меню. Вот что получилось у меня:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/19.png" alt="">
    <p>И теперь меню стало похоже на оригинал:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/20.png" alt="">
    <p>В template.php есть такой массив как <b>$arResult</b>. В нём в подмасиивах лежат все наши созданные пункты меню, разная инфа о пунктах меню разложенна по элементам подмассивов вот так:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/21.png" alt="">
    <p>Ну что, наш тестовый компонент вроду готов, теперь его нужно переместить в header.php вместо старой вёрстки меню. Для этого откроем файл test.php и вырежем оттуда php код подключения компонента:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/22.png" alt="">
    <p>И вставим его в header.php вот так:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/23.png" alt="">
    <p>Всё, меню-вёрстка заменилась на редактируемое меню из битрикса.</p>
    <p>Следующее это натянуть нижнее меню. С нижним меню все операции те же что и с верхним, только подключаем уже в настройках Нижнее меню, ну и если оба этих меню ссылаются на одни и те же страницы, то для нижнего меню можно скопировать файл top.menu.php в файл bottom.menu.php. Только надо первый пункт создать через админку, создавая раздел, битрикс создаст файл bottom.menu.php, а дальше можно уже копирнуть остальное.</p>
    <p><b>Немного по другому создаётся меню. Смотреть в видео</b></p>
    <iframe class="screen" width="560" height="315" src="https://www.youtube.com/embed/c4hJJMSzBHs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    <p><b>Создаём верхнее многоуровневое меню</b></p>
    <iframe class="screen" width="560" height="315" src="https://www.youtube.com/embed/Yyc9EEclJJc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
    
    
    
    
    
    <h3 class="header-style2" id="6">Как включить отображение ошибок в битриксе</h3>
    <p>Если в php коде сделать ошибку, то битрикс вместо сообщения об ошибке выдасть сообщение, что ошибки отключены и если мы хотим их включить, то надо изменить кое что в файле settings.php, Файл этот находится по пути bitrix/settings.php. Изменять его можно только когда разрабатывается сайт. В этом файле различные настройки в массивах, через поиск ищем свойство в массиве - debug и ставим ему значение true.</p>
    
    
    
    
    
    
    <h3 class="header-style2" id="7">Инфоблок. Создаём на примере слайдера на главной странице</h3>
    <p>Инфоблоки работают с базой данных, через инфоблоки удаляются данные из БД, сохраняются, изменяются. Инфоблок в админке это своего рода заркало БД.</p>
    <p>Итак у нас на главной странице есть слайдер, нужно картинку и внутренние данные слайдера выводить из инфоблока. Для этого идём в админку битрикса в раздел Контент, что слева вверху в меню. В контенте жмём на стрелку Инфоблоки -> Типы инфоблоков и в открывшемся окне жмём Добавить новый тип. Типы инфоблоков нужны для хранения однородных инфоблоков. Откроется другое окно, где введём Идентификатор латинскими буквами без пробелов - content. Ниже введём по-русски - Контент и по англ. - Content. Всё, сохраняем. Теперь в Типах инфоблока появился новый тип Контент, жмём на него и в окне справа жмём Добавить инфоблок. Откроется большое окно с табами по настройке инфоблока. Рассмотрим некоторые из настроек.</p>
    <p><b>Вкладка Инфоблок</b></p>
    <ul class="list">
        <li><b>Символьный код</b> - вводим на англ. языке название нашего инфоблока. В моём случае это будет main_slider. Это поле не обязательное, но желательно его вводить и чтобы название было по смыслу.</li>
        <li><b>Сайты</b> - обязательно ставим галочку к какому сайту мы привяжем инфоблок. Например у нас 2 сайта на 2х языках и мы один инфоблок привяжем к одному сайту, а другой ко 2му сайту.</li>
        <li><b>Название</b> - в это поле вводим название нашего инфоблока на русском языке. В моём случае называться будет "Слайдер на главной странице".</li>
        <li><b>Сортировка</b> - по умолчанию стоит 500, можно указать число, например 100, чтобы сортировать наш инфоблок в списке с остальными ифоблоками.</li>
        <li><b>4 поля URL</b> - это шаблоны ссылок до разделов, элементов и id инфоблока. Эти шаблоны используется для правильной работы стандартного функционала битрикса(например: поиск и генерация карты сайта). <a href="https://dev.1c-bitrix.ru/user_help/content/iblock/settings.php">Ссылка</a> на документацию про инфоблоки.</li>
        <li><b>Индексировать разделы для модуля поиска, Индексировать элементы для модуля поиска</b> - если есть поиск на сайте, то эти галочки говорят, чтобы прошла индексация этого инфоблока и он стал доступен для поиска в нём.</li>
        <li><b>Режим просмотра разделов и элементов</b> - поставим Совместный, чтобы у нас разделы и элементы при просмотре инфоблока в левом меню были вместе.</li>
    </ul>
    <p><b>Вкладка SEO</b>. Здесь задаются шаблоны, по которым будут генерироваться парамеры для SEO</p>
    <ul class="list">
        <li></li>
    </ul>
    <p><b>Вкладка Поля</b>. Тут настраиваем поля для элементов инфоблока</p>
    <ul class="list">
        <li><b>Начало активности</b> - часто бывает нужно ставить галочку Обязательно и из списка выбирать Текущая дата и время</li>
    </ul>
    <p><b>Вкладка Свойства</b></p>
    <ul class="list">
        <li>В этой вкладке создаются доп. поля для инфоблока. Элемент(запись) может предоставить только поле Название, Картинка в анонсе и Картинка детальная, Описание в анонсе и Детальное описание, временные поля и немного другое, но когда полей не хватает, то идём во вкладку инфоблока Свойства и добавляем там полей столько сколько нам нужно. Это аналог как в WP подключаем плагин ACF(advanced custom fields - дополнительные поля для записей). </li>
    </ul>
    <p><b>Вкладка Доступ</b></p>
    <ul class="list">
        <li><b>Для всех пользователей</b> - ставим значение Чтение. Это необходимо, чтобы не авторизованные пользователи видели содержимое выводимое из этого инфоблока. Для остальных пользователей оставим настройки по умолчанию.</li>
    </ul>
    <p>После настройки инфоблока, сохраняем его и переходим к его заполнению элементами(записями)</p>
    <iframe class="video" width="560" height="315" src="https://www.youtube.com/embed/v8X8TI5uSiA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
    
    
    
    <h3 class="header-style2" id="8">Инфоблок Слайдер на главной странице. Заполняем его элементами и подключаем компонент "bitrix: news.list" для их вывод</h3>
    <p>Перейдём в созданный инфоблок, он находится в Типе инфоблока Контент:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/24.png" alt="">
    <p>И жмём Создать элемент. Для элементов также откроется окно со вкладками. Пробежимся слегка по пунктам этих вкладок.</p> 
    <p><b>Вкладка Элемент</b>. Поля выделенные жирным шрифтом обязательны.</p>
    <ul class="list">
        <li><b>Активность</b> - отвечает за то будет ли выводится элемент или нет.</li>
        <li><b>Начало активности, Окончание активности</b> - выводит элемент с определённого нами даты и времени и перестаёт выводить с определённого даты и времени</li>
        <li><b>Название</b> - одно из полей для заполнения какими либо данными, сами определяем какие данные туда поместить</li>
        <li><b>Символьный код</b> - если при настройке вкладки Поля инфоблока были проставлены галочки транслетирировать вводимую нами инфу, то в этом поле будет переводится на латиницу наше Название</li>
        <li><b>Сортировка</b> - задаём порядок вывода элементов в списке инфоблока.</li>
        <li><b>Значения свойств</b> - если были добавлены доп.поля во вкладке Свойства инфоблока, то они тут будут отображены и нам надо вставить значение этого поля</li>
    </ul>
    <img class="screen" src="/site-shpora/img/Bitrix/25.png" alt="">
    <p><b>Вкладка Анонс</b>.</p>
    <ul class="list">
        <li>Тут всего 2 поля для заполнения: картинка для анонса и текст(простой или html). Если мы ранее не задавали размеры для картинки анонса, то тогда сюда можно добавить картику любого размера, она такая и выведится</li>
    </ul>
    <p><b>Вкладка Подробно</b>.</p>
    <ul class="list">
        <li>Тут как и в анонсе 2 поля для заполнения: детальная картинка и подробное описание</li>
    </ul>
    <p>Теперь нам надо определиться какие данные из слайда мы разложим по полям во вкладках. Если посмотреть на слайд, то у нас есть по центру текст с меньшим размером шрифта, его поместим в Название вкладки Элемент. Затем под этим текстом есть текст по крупнее, его поместим в Описание для анонса во вкладке Анонс. Для кнопки, ниже крупного текста, создадим дополнительное поле во вкладке Свойства инфоблока с Названием - Ссылка и в эту ссылку поместим значение href этой кнопки, а текст кнопки разместим в подробном описании вкладки Подробно:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/26.png" alt="">
    <p>У вкладки Свойства есть такой пункт как Обязательное это доп. поле будет или нет, галочку не ставим, потому что у нас есть слайды, на которых нет этого доп. поля Ссылка.</p>
    <p>После того как заполнены все элементы, их у нас 3 шт:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/27.png" alt="">
    <p>Итак, хранилище для данных слайдера мы создали, пришло время вывести данные из инфоблока на главную страницу в публичной части сайта. Для этого идём в публичную часть и жмём Изменить страницу(можно это сделать на тестовой странице, а можно сразу подключить компонент на главную, я буду сразу на главную.), появится окно редактирования этой страницы и перетаскиваем мышкой компонент Список новостей из меню справа, который находится по пути Контент -> Новости -> Список новостей. Автоматом или 2 раза машкой по вынесенному компоненту, откроется окно настройки данных для компонента:</p>
    <ul class="list">
        <li><b>Шаблон компонента</b> - пока оставляем стадартный шаблон битрикса, т.е. шаблон - .default(Встроенный шаблон)</li>
        <li><b>Тип инфоблока</b> - выбираем [content]Контент</li>
        <li><b>Код инфоблока</b> - выбираем в списке наш инфоблок - Слайдер на главной странице</li>
        <li><b>Количество новостей на странице</b> - поставим 10, это значит, что если у нас будет 10 элементов, то отобразится 10 слайдов</li>
        <li><b>Поле для первой сортировки новостей</b> - поставим сортировать по полю Сортировка</li>
        <li><b>Направление для первой сортировки новостей</b> - поставим По возрастанию</li>
        <li><b>Поле для второй сортировки новостей</b> - использовать не будем, ставим (другое)</li>
        <li><b>Направление для второй сортировки новостей</b> - тоже ставим (другое)</li>
        <li><b>Фильтр</b> - ставим фильтр, который будет фильтровать элементы инфоблока по каким то нашим условиям. Пока пропустим его</li>
        <li><b>Поля</b> - если тут выбрать те поля, которые нам нужны, например Название, Описание для анонса, Картинка для анонса, Подробное описание, то в конечном массиве $arResult эти поля будут в подмассиве FIELDS, если ничего не выбирать в этом поле, то всё равно наши данные подтянутся и будут лежат так в массиве под такими свойствами как $arResult['ITEMS']['NAME'], $arResult['ITEMS']['CODE'], $arResult['ITEMS']['PREVIEW_TEXT'], $arResult['ITEMS']['DETAIL_TEXT'] и т.д.</li>
        <li><b>Свойство</b> - тут в списке выбираем те доп. поля которые мы создавали. В нашем случае выбираем поле Ссылка</li>
        <li><b>Показывать только активные на данный момент элементы</b> - из названия и так понятно, что выбираем выводить элементы активные или нет. Галочку оставляем.</li>
        <li><b>Управление режимом AJAX</b> - тут убираем все галочки.</li>
        <li><b>Настройки кеширования</b> - отключим пока кеширование</li>
        <li><b>Учитывать права доступа</b> - убираем галочку</li>
        <li><b>Максимальная длина анонса для вывода</b> - тут можно задать сколько символов можно выводить в анонсе. Нам это не нужно в слайдере</li>
        <li><b>Устанавливать заголовок страницы и Устанавливать заголовок окна браузера</b> - убираем галочки. Убираем все галочки до поля ID раздела</li>
        <li><b>ID раздела</b> - вводится id раздела, для того чтобы элементы подгружались из указанного раздела</li>
        <li><b>Показывать элементы подразделов раздела</b> - если стоит галочка, то выводятся все элементы, которые есть в инфоблоке и без разницы по каким они папкам расскиданы. Если убрать галочку, то выведутся только элементы из корня инфоблока и те которые лежат в разделах указанных в ID разделе. Галочку уберём</li>
        <li>Далее все галочки снимаем до Настроек постраничной навигации кроме Выводить изображения для анонса</li>
        <li><b>Шаблон постраничной навигации</b> - он нам в слайдере не нуже, поставим ему значение (другое) и ниже поснимае галочки</li>
        <li>Далее нажимаем сохранить</li>
    </ul>
    <p>На странице видим вывелись элементы списком вниз. Теперь нам надо подключить и настроить свой шаблон, для этого в публичной части через Режим правки копируем стандартный шаблон в нашу папку main и обзываем его main_slider</p>
    <p>Теперь идём в наш скопированный шаблон template.php и нужно нашу вёрстку слайдера встроить в этот шаблон, вот так:</p>
    <div class="code-style">
        <pre>
            &lt;?if(!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED!==true)die();
            /** @var array $arParams */
            /** @var array $arResult */
            /** @global CMain $APPLICATION */
            /** @global CUser $USER */
            /** @global CDatabase $DB */
            /** @var CBitrixComponentTemplate $this */
            /** @var string $templateName */
            /** @var string $templateFile */
            /** @var string $templateFolder */
            /** @var string $componentPath */
            /** @var CBitrixComponent $component */
            $this->setFrameMode(true);
            ?>
            
            &lt;?php if(!empty($arResult["ITEMS"])):?>
                &lt;section class="slider-area">
                    &lt;div class="slider-active">
                        &lt;?foreach($arResult["ITEMS"] as $arItem):?>
                                &lt;div class="single-slider">
                                    &lt;?if($arParams["DISPLAY_PICTURE"]!="N" &amp;&amp; is_array($arItem["PREVIEW_PICTURE"])):?>
                                        &lt;div 
                                            class="slider-img parallax-bg bg-opacity-black-60" 
                                            style="background:url(<?=$arItem["PREVIEW_PICTURE"]["SRC"]?>)">
                                        &lt;/div>
                                    &lt;?endif?>


                                    &lt;div class="slider-content slider-style-2 slider-style-4 text-center z-index-5">
                                        &lt;?if($arParams["DISPLAY_NAME"]!="N" &amp;&amp; $arItem["NAME"]):?>
                                            &lt;span><?echo $arItem["NAME"]?>&lt;/span>
                                        &lt;?endif;?>


                                        &lt;?if($arParams["DISPLAY_PREVIEW_TEXT"]!="N" &amp;&amp; $arItem["PREVIEW_TEXT"]):?>
                                            &lt;h2>&lt;?echo $arItem["PREVIEW_TEXT"];?>&lt;/h2>
                                        &lt;?endif;?>


                                        &lt;?if(!empty($arItem["DISPLAY_PROPERTIES"])):?>
                                            &lt;a class="my-button" href="&lt;?=$arItem["DISPLAY_PROPERTIES"]["LINK"]["DISPLAY_VALUE"];?>">&lt;?=$arItem["DISPLAY_PROPERTIES"]["TEXT_LINK"]["DISPLAY_VALUE"];?>&lt;/a>
                                        &lt;?endif;?>
                                    &lt;/div>
                                &lt;/div>

                        &lt;?endforeach;?>
                    &lt;/div>
                &lt;/section>
            &lt;?php else:?>
                &lt;?= "Массив пуст";?>
            &lt;?php endif;?>
        </pre>
    </div>
    <p>Несколько раз у меня выводились слайды как то не правильно, всё дело было в теге P, который битрикс в шаблоне по умолчанию тулит, вот как он выглядит, я его удалил и вроде все слайды стали нормально отображаться:</p>
    <div class="code-style">
        <pre>
            &lt;p class="news-item" id="<?=$this->GetEditAreaId($arItem['ID']);?>">
        </pre>
    </div>
    <p>Как узнаю для чего этот тег нужен, то допишу. Код php и этот тег:</p>
    <div class="code-style">
        <pre>
            &lt;?
            $this->AddEditAction($arItem['ID'], $arItem['EDIT_LINK'], CIBlock::GetArrayByID($arItem["IBLOCK_ID"], "ELEMENT_EDIT"));
            $this->AddDeleteAction($arItem['ID'], $arItem['DELETE_LINK'], CIBlock::GetArrayByID($arItem["IBLOCK_ID"], "ELEMENT_DELETE"), array("CONFIRM" => GetMessage('CT_BNL_ELEMENT_DELETE_CONFIRM')));
            ?>
            
            &lt;p class="news-item" id="<?=$this->GetEditAreaId($arItem['ID']);?>">   
        </pre>
    </div>
    <p>Нужны для того чтобы в публичной части иметь возможность редактировать слайды через режим правки, но это не рекомнедуется. Пока мы разрабатываем можно оставить этот код, но потом лучше убрать. И чтобы тег P не сбивал вёрстку надо удалить его и его атрибут id со значением внутри нужно перенести на наш тег из вёрстки, который является оборачивающим для повторяющихся слайдов. В моём случае это тег:</p>
    <div class="code-style">
        <pre>
            &lt;div class="single-slider">&lt;/div>
        </pre>
    </div>
    <p>Добавляем нашему тегу id:</p>
    <div class="code-style">
        <pre>
            &lt;div class="single-slider" id="<?=$this->GetEditAreaId($arItem['ID']);?>">&lt;/div>
        </pre>
    </div>
    <p>Всё, теперь будет и режим правки работать нормально и вёрстка не собьётся.</p>
    
    
    
    
    
    
    
    <h3 class="header-style2" id="9">Выводим разный фон у шапки на главной и у других страниц.</h3>
    <p>Как можно заметить, то у главной страницы фон шапки черный и прозрачный, а у других страниц он белый. Это задаётся разными классами у тега header в header.php - это transparent-header и white-bg. Идём в header.php и в теге header вместо этих класов пишем код:</p>
    <div class="code-style">
        <pre>
            &lt;header id="sticky-header" class="header-area header-wrapper <?= ($APPLICATION->GetCurDir() === '/') ? transparent-header : white-bg?>">
                ...
            &lt;/header>
        </pre>
    </div>
    <p>Функция $APPLICATION->GetCurDir() возвращает строку, которая говорит в какой папке мы сейчас находимся. Если вернётся '/', то мы в корне сайте, т.е. на главной странице, если нет, значит мы на любой другой странице, где фон хедера должен быть белым.</p>
    
    
    
    
    
    
    <h3 class="header-style2" id="10">Компонент "bitrix: main.include". Включаемые области.</h3>
    <p>На сайте не всё можно вывести с помощью компонента "bitrix: news.list", ну или можно но лучше использовать для таких целей специально предназначенные компоненты, например "bitrix: main.include". Этот компонент даёт возможность сделать какой нибудь текст или картику быть редактируемыми. Вот например в нашей вёрстве есть такая секция:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/28.png" alt="">
    <p>Сделаем так, чтобы можно было включить Режим правки и прямо в публичной части изменить заголовок, текст или картинку. Такой компонент хранит данные не в БД, а в файлах, содержимое которых мы и будем изменять. Почему сразу не вынести весь блок в компонент? Для того чтобы у управляющего содержимым не было возможности изменять вёрстку, поэтому и выносим каждый кусочек по отдельности.</p>
    <p>Начнём с заголовка. Чтобы добавить компонент на страницу жмём Изменить страницу и справа добавим этот компонент. Он находится по пути <b>Служебные -> Включаемые области -> Вставка включаемой области</b>. Перетаскиваем его и откроется окно настроек:</p>
    <ul class="list">
        <li><b>Шаблон компонента</b> - оставим по умолчанию</li>
        <li><b>Показывать включаемую область</b> - это основная настройка этого компонента, это его режим работы, при выборе которого будет выбираться способ подключения файла с содержимым, их 3 - <b>для страницы</b>, <b>для файла</b> и <b>для раздела</b>.</li>
        <li><b>Суффикс имени файла включаемой области</b> - это осмысленное добавочное слово к основному имени файла, например зададим суффикс qqq и файл в котором будет храниться содержимое будет называться test_qqq.php. Появляется в режиме - для страницы</li>
        <li><b>Путь к файлу области</b> - появляется если выбираем режим "из файла". Тут пишем путь к файлу включаемой области относительно корня сайта</li>
    </ul>
    <p>Итак настроем для начала режим <b>для страницы</b>. При этом режиме файл с содержимым, который будет подключаться, ищется в той же папке где и сама страница, на которой расположен код подключения компонента, в нашм случае это index.php, а значит файл должен иметь в названии слово index и плюс через нижнее подчёркивание прибавляем суффикс, задаваемый в настройках. Создадим в корне нашего сайта файл index_суффикс.php, вместо слова ""суффикс" понятно вставим наше осмысленное слово:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/29.png" alt="">
    <p>И теперь в этот файл(index_суффикс.php) вынесем из вёрстки тег h2 вместе с текстом заголовка:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/30.png" alt="">
    <p>Далее код подключения компонента разместим в том месте, откуда мы убрали заголовок:</p>
    <div class="code-style">
        <pre>
            &lt;?$APPLICATION->IncludeComponent(
                "bitrix:main.include",
                "",
                Array(
                    "AREA_FILE_SHOW" => "page",
                    "AREA_FILE_SUFFIX" => "title"
                )
            );?>
        </pre>
    </div>
    <img class="screen-2" src="/site-shpora/img/Bitrix/31.png" alt="">
    <p>Заметим что в массиве настройки для компонента заданы слова page(для страницы) и суффикс title. Проверяем на сайте как работает. Жмём Режим правки и наводим на заголовок, появится окошко правки данного участка. Можно нажать Изменить область и откроется окно для измененения текста заголовка или можно нажать шестерёнку и откроется окно с настройками компонента.</p>
    <p>С другими 2мя частями - текстом и картинкой проделываем те же действия. Добавляем компонент, настраиваем его также, только суффикс другой пишем, создаём файл, выносим в него вёрстку и на место вёрстки пишем код с подключением компонента:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/32.png" alt="">
    <p>Рассмотрим режим <b>из файла</b>. Если выбрали этот режим в настроках компонента, то вместо ввода суффикса появляется поле вводя пути до файла включаемой области относительно корня сайта. Этот режим хорошо подходит для участков вёрстки, содержимое которых одинакого на всех странцах сайта, то есть не привязано конкретно к странице как в примере выше. Таким участком вёрстки можно взять верхнюю строку сайта, где указаны почта, телефон и соцсети, они указаны на всех страницах сайта, кроме главной. Вёрстка этой строки находится в файле about_us.html. Копируем её и переносим в header.php нашего шаблона и вставляем до шапки:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/33.png" alt="">
    <p>И также сделаем условие отображения этого участка кода, если находимся на главной, то не отображать эту строку и наоборот. Итак во включаемую область нужно вынести текст, который лежит между span, это почта и телефон. У человека, который будет править эти области будет возможность изменить иконку и текст:</p>
    <img class="screen-2" src="/site-shpora/img/Bitrix/34.png" alt="">
    <p>Ещё одно замечание, так как мы находимся в header.php, а он находится в нашем шаблоне сайта, и в нём добавляем включаемые области, то файлы с включаемыми областями надо хранить в папке, которая должна находится в нашем шаблоне. Для этого создадим папку includes прямо в нашем шаблоне main_template. Теперь в папке includes создадим 2 файла по количеству включаемых областей. 1й это header_mail.php 2й header_phone.php и раскидаем в них соответсвующие вёрстки. Такие названия для файлов, которыми мы обозвали эти 2 файла, не обязательны, можно назвать как угодно, просто по смыслу называем так. Первая часть названия это файл, к которому они относятся, вторая часть это элемент вёрстки, к которому они относятся, повторю эти названия мы сами называем как удобно.</p>
    <p>Далее нужно взять код подключения копмонента, для этого идём на страницу любую нашего сайта и жмём Изменить страницу, затем вынесем компонент включаемая область куда нибудь и настроем его на режим  - из файла, всё сохраняем и идём в текстовый редактор на ту страницу куда выносил компонент, копируем его и вставляем в файл header.php туда, откуда были вырезаны куски с почтой и телефоном. Должно получится так:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/35.png" alt="">
    <div class="code-style">
        <pre>
            &lt;?$APPLICATION->IncludeComponent(
                "bitrix:main.include",
                "",
                Array(
                    "AREA_FILE_SHOW" => "file",
                    "PATH" => SITE_TEMPLATE_PATH . "/includes/header_mail.php"
                )
            );?>
        </pre>
    </div>
    <p>На странице О нас также есть точно такой же блок из 3 частей - заголвок, текст и картинка. Также применяем тут компонент включаемых областей в режиме для страницы, все файлы тут также привязываем к странице, на которой находится компонент, а это тоже index.php в папке about:</p>
    <img class="screen" src="/site-shpora/img/Bitrix/36.png" alt="">
    <p>Единственное что можно было бы сделать по другому, то это задать суффикс немного другой, например about_title(index_about_title.php) и к другим также добавить слово about для большей ясности к какой странице относятся эти включаемые области.</p>
    
    
    
    
</div>
